[{"/Users/ashleydyson/Documents/Petio/petio/frontend/src/index.js":"1","/Users/ashleydyson/Documents/Petio/petio/frontend/src/serviceWorker.js":"2","/Users/ashleydyson/Documents/Petio/petio/frontend/src/App.js":"3","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/store.js":"4","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/auth/index.js":"5","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Issues.js":"6","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Sidebar.js":"7","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Season.js":"8","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Profile.js":"9","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Search.js":"10","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Movie.js":"11","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Series.js":"12","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Actor.js":"13","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Movies.js":"14","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Shows.js":"15","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/reducers.js":"16","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Requests.js":"17","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/index.js":"18","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/index.js":"19","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/index.js":"20","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/actionTypes.js":"21","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Review.js":"22","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieShowTop.js":"23","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieShowOverview.js":"24","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieCard.js":"25","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/History.js":"26","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/PersonCard.js":"27","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/CarouselLoading.js":"28","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Carousel.js":"29","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/TvCard.js":"30","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/CarouselLoadingPerson.js":"31","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieShowLoading.js":"32","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/ReviewsLists.js":"33","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/RequestCard.js":"34","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/reducer.js":"35","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/reducer.js":"36","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/reducer.js":"37","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Popular.js":"38","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/actions.js":"39","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/actions.js":"40","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/actions.js":"41","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/api.js":"42","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/api.js":"43","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/api.js":"44","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Genre.js":"45","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Networks.js":"46","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Company.js":"47"},{"size":595,"mtime":1607428895092,"results":"48","hashOfConfig":"49"},{"size":5086,"mtime":1607428895094,"results":"50","hashOfConfig":"49"},{"size":10044,"mtime":1612792130617,"results":"51","hashOfConfig":"49"},{"size":376,"mtime":1607428895090,"results":"52","hashOfConfig":"49"},{"size":756,"mtime":1612790599482,"results":"53","hashOfConfig":"49"},{"size":5368,"mtime":1612296254159,"results":"54","hashOfConfig":"49"},{"size":4417,"mtime":1612790599482,"results":"55","hashOfConfig":"49"},{"size":10080,"mtime":1612792629980,"results":"56","hashOfConfig":"49"},{"size":4291,"mtime":1607428895093,"results":"57","hashOfConfig":"49"},{"size":5688,"mtime":1612293639578,"results":"58","hashOfConfig":"49"},{"size":7603,"mtime":1612354776676,"results":"59","hashOfConfig":"49"},{"size":11606,"mtime":1612358999610,"results":"60","hashOfConfig":"49"},{"size":7430,"mtime":1612293389713,"results":"61","hashOfConfig":"49"},{"size":1490,"mtime":1612293456553,"results":"62","hashOfConfig":"49"},{"size":1467,"mtime":1612293756845,"results":"63","hashOfConfig":"49"},{"size":236,"mtime":1607428895090,"results":"64","hashOfConfig":"49"},{"size":5915,"mtime":1612297794466,"results":"65","hashOfConfig":"49"},{"size":70,"mtime":1607428895090,"results":"66","hashOfConfig":"49"},{"size":246,"mtime":1610555633173,"results":"67","hashOfConfig":"49"},{"size":389,"mtime":1612198360509,"results":"68","hashOfConfig":"49"},{"size":1196,"mtime":1611342092511,"results":"69","hashOfConfig":"49"},{"size":2183,"mtime":1612296506385,"results":"70","hashOfConfig":"49"},{"size":3320,"mtime":1612383635719,"results":"71","hashOfConfig":"49"},{"size":15471,"mtime":1612955140465,"results":"72","hashOfConfig":"49"},{"size":4641,"mtime":1612293335694,"results":"73","hashOfConfig":"49"},{"size":4396,"mtime":1612295274868,"results":"74","hashOfConfig":"49"},{"size":1478,"mtime":1608589555436,"results":"75","hashOfConfig":"49"},{"size":1744,"mtime":1607428895086,"results":"76","hashOfConfig":"49"},{"size":3642,"mtime":1612296012482,"results":"77","hashOfConfig":"49"},{"size":4543,"mtime":1612293285999,"results":"78","hashOfConfig":"49"},{"size":1780,"mtime":1607428895086,"results":"79","hashOfConfig":"49"},{"size":3071,"mtime":1610625569142,"results":"80","hashOfConfig":"49"},{"size":4151,"mtime":1612367983535,"results":"81","hashOfConfig":"49"},{"size":2257,"mtime":1607428895088,"results":"82","hashOfConfig":"49"},{"size":1566,"mtime":1611342092510,"results":"83","hashOfConfig":"49"},{"size":251,"mtime":1607428895090,"results":"84","hashOfConfig":"49"},{"size":3414,"mtime":1608570299658,"results":"85","hashOfConfig":"49"},{"size":3517,"mtime":1612295268170,"results":"86","hashOfConfig":"49"},{"size":2967,"mtime":1611342092510,"results":"87","hashOfConfig":"49"},{"size":5347,"mtime":1612198322704,"results":"88","hashOfConfig":"49"},{"size":3421,"mtime":1607428895089,"results":"89","hashOfConfig":"49"},{"size":1860,"mtime":1612866436878,"results":"90","hashOfConfig":"49"},{"size":3017,"mtime":1612198348634,"results":"91","hashOfConfig":"49"},{"size":892,"mtime":1607428895090,"results":"92","hashOfConfig":"49"},{"size":8297,"mtime":1612357932377,"results":"93","hashOfConfig":"49"},{"size":3078,"mtime":1612293526526,"results":"94","hashOfConfig":"49"},{"size":3086,"mtime":1612286268816,"results":"95","hashOfConfig":"49"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},"tvd7pb",{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"98"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"98"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"98"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"98"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"98"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"98"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"98"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"98"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"98"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"98"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"98"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"98"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"98"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"98"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157","usedDeprecatedRules":"98"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"98"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"177","usedDeprecatedRules":"98"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"98"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"185","usedDeprecatedRules":"98"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"188","usedDeprecatedRules":"98"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191","usedDeprecatedRules":"98"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"194","usedDeprecatedRules":"98"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"205","messages":"206","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"211","usedDeprecatedRules":"98"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"98"},"/Users/ashleydyson/Documents/Petio/petio/frontend/src/index.js",[],["215","216"],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/serviceWorker.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/App.js",["217","218","219","220","221","222","223"],"import React from \"react\";\nimport { HashRouter, Switch, Route, Link, withRouter, useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Plex from \"./data/Plex\";\nimport User from \"./data/User\";\nimport Api from \"./data/Api\";\nimport Sidebar from \"./components/Sidebar\";\nimport Search from \"./pages/Search\";\nimport Series from \"./pages/Series\";\nimport Season from \"./pages/Season\";\nimport Movie from \"./pages/Movie\";\nimport Actor from \"./pages/Actor\";\nimport Issues from \"./components/Issues\";\nimport Profile from \"./pages/Profile\";\nimport Movies from \"./pages/Movies\";\nimport Requests from \"./pages/Requests\";\nimport Shows from \"./pages/Shows\";\nimport { ReactComponent as Spinner } from \"./assets/svg/spinner.svg\";\nimport { ReactComponent as TmdbLogo } from \"./assets/svg/tmdb.svg\";\nimport pjson from \"../package.json\";\nimport Genre from \"./pages/Genre\";\nimport Networks from \"./pages/Networks\";\nimport Company from \"./pages/Company\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      mb_login: false,\n      activeServerCheck: false,\n      issuesOpen: false,\n      isLoggedIn: this.props.user.logged_in,\n      loading: true,\n      configChecked: false,\n      loginMsg: false,\n      pushMsg: {},\n    };\n\n    this.openIssues = this.openIssues.bind(this);\n    this.closeIssues = this.closeIssues.bind(this);\n    this.loginForm = this.loginForm.bind(this);\n    this.inputChange = this.inputChange.bind(this);\n    this.logout = this.logout.bind(this);\n    this.msg = this.msg.bind(this);\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.value;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  msg(\n    data = {\n      message: String,\n      type: \"info\",\n    }\n  ) {\n    let timestamp = +new Date();\n    let msgs = { ...this.state.pushMsg };\n    msgs[timestamp] = data;\n    this.setState({\n      pushMsg: msgs,\n    });\n\n    setInterval(() => {\n      let msgs = { ...this.state.pushMsg };\n      delete msgs[timestamp];\n      this.setState({\n        pushMsg: msgs,\n      });\n    }, 3000);\n  }\n\n  loginForm(e) {\n    e.preventDefault();\n    let username = this.state.username;\n\n    this.login(username);\n  }\n\n  login(username, cookie = false) {\n    if (!this.props.user.credentials || this.state.config === \"failed\") {\n      return;\n    }\n    this.setState({\n      loading: true,\n    });\n    User.login(username, cookie)\n      .then((res) => {\n        this.setState({\n          loading: false,\n          loginMsg: false,\n        });\n        if (res.error) {\n          this.msg({\n            message: res.error,\n            type: \"error\",\n          });\n          return;\n        }\n        if (res.loggedIn) {\n          this.setState({\n            isLoggedIn: true,\n          });\n        }\n        if (res.admin) {\n          this.setState({\n            isAdmin: true,\n          });\n        }\n        User.getRequests();\n      })\n      .catch((error) => {\n        this.setState({\n          loginMsg: error,\n          loading: false,\n        });\n        localStorage.removeItem(\"loggedin\");\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"loggedin\");\n    localStorage.removeItem(\"adminloggedin\");\n    User.logout();\n    this.setState({\n      isLoggedIn: false,\n      isAdmin: false,\n    });\n  }\n\n  loginLocal() {\n    if (localStorage.getItem(\"loggedin\")) {\n      if (this.props.user.credentials) {\n        this.login(\"\", true);\n      } else {\n        setTimeout(() => {\n          this.loginLocal();\n        }, 500);\n      }\n    } else {\n      this.setState({\n        loading: false,\n      });\n    }\n  }\n\n  openIssues() {\n    this.setState({\n      openIssues: true,\n    });\n  }\n\n  closeIssues() {\n    this.setState({\n      openIssues: false,\n    });\n  }\n\n  checkConfig() {\n    this.setState({\n      configChecked: true,\n    });\n    Api.checkConfig()\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          config: res.config,\n          // loading: false,\n        });\n      })\n      .catch(() => {\n        this.setState({\n          error: true,\n          config: \"failed\",\n        });\n      });\n  }\n\n  componentDidUpdate() {\n    if (this.props.user.credentials && !this.state.configChecked) {\n      this.checkConfig();\n    }\n  }\n\n  componentDidMount() {\n    this.loginLocal();\n    if (this.state.openIssues) {\n      this.setState({\n        openIssues: false,\n      });\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"login-wrap\">\n          <div className=\"spinner\">\n            <Spinner />\n          </div>\n        </div>\n      );\n    }\n    let user = this.props.api.current_user;\n    if (!this.state.isLoggedIn) {\n      return (\n        <div className=\"login-wrap\">\n          {!this.state.loading || !this.props.user.credentials ? (\n            <>\n              <div className=\"login--inner\">\n                <h1 className=\"logo\">\n                  Pet<span>io</span>\n                </h1>\n                <p className=\"main-title\">{!this.state.adminLogin ? \"Login\" : \"Admin Login\"}</p>\n                <form onSubmit={this.loginForm} autoComplete=\"on\">\n                  <p>Username / Email</p>\n                  <input type=\"text\" name=\"username\" value={this.state.username} onChange={this.inputChange} autoComplete=\"username\" />\n                  {this.state.loginMsg ? <div className=\"msg msg__error msg__input\">{this.state.loginMsg}</div> : null}\n                  {this.state.config === \"failed\" ? <div className=\"msg msg__error msg__input\">API Not configured, please complete setup</div> : null}\n                  <button className=\"btn btn__square\">Login</button>\n                </form>\n              </div>\n              <div className=\"credits\">\n                <a href=\"https://fanart.tv/\" target=\"_blank\">\n                  <p>\n                    <strong>FAN</strong>ART<span>.TV</span>\n                  </p>\n                </a>\n                <a href=\"https://www.themoviedb.org/\" target=\"_blank\">\n                  <TmdbLogo />\n                </a>\n              </div>\n              <p className=\"powered-by\">Petio build (alpha) {pjson.version}</p>\n            </>\n          ) : (\n            <div className=\"spinner\">\n              <Spinner />\n            </div>\n          )}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"page\">\n          <HashRouter>\n            <div className=\"sidebar\">\n              <Sidebar history={HashRouter.history} />\n            </div>\n            <div className=\"push-msg--wrap\">\n              {Object.keys(this.state.pushMsg).map((i) => {\n                let msg = this.state.pushMsg[i];\n                return (\n                  <div key={msg.timestamp} className={`push-msg--item ${msg.type !== \"info\" ? msg.type : \"\"}`}>\n                    {msg.message}\n                  </div>\n                );\n              })}\n            </div>\n            <Switch>\n              <Route exact path=\"/\">\n                <div className=\"page-wrap\">\n                  <Search msg={this.msg} />\n                </div>\n              </Route>\n              <Route exact path=\"/user\">\n                <div className=\"page-wrap\">\n                  <Profile logout={this.logout} />\n                </div>\n              </Route>\n              <Route exact path=\"/movie/:id\">\n                <Issues open={this.state.openIssues} close={this.closeIssues} msg={this.msg} />\n                <div className=\"page-wrap\">\n                  <Movie msg={this.msg} openIssues={this.openIssues} />\n                </div>\n              </Route>\n              <Route exact path=\"/series/:id\">\n                <Issues open={this.state.openIssues} close={this.closeIssues} msg={this.msg} />\n                <div className=\"page-wrap\">\n                  <Series msg={this.msg} openIssues={this.openIssues} />\n                </div>\n              </Route>\n              <Route exact path=\"/series/:id/season/:season\">\n                <Issues open={this.state.openIssues} close={this.closeIssues} msg={this.msg} />\n                <div className=\"page-wrap\">\n                  <Season openIssues={this.openIssues} msg={this.msg} />\n                </div>\n              </Route>\n              <Route path=\"/person/:id\">\n                <Actor msg={this.msg} />\n              </Route>\n              <Route exact path=\"/requests\">\n                <div className=\"page-wrap\">\n                  <Requests />\n                </div>\n              </Route>\n              {/* discovery pages */}\n              <Route exact path=\"/movies\">\n                <div className=\"page-wrap\">\n                  <Movies />\n                </div>\n              </Route>\n              <Route exact path=\"/tv\">\n                <div className=\"page-wrap\">\n                  <Shows msg={this.msg} />\n                </div>\n              </Route>\n              <Route exact path=\"/genre/:type/:id\">\n                <div className=\"page-wrap\">\n                  <Genre msg={this.msg} />\n                </div>\n              </Route>\n              <Route exact path=\"/networks/:id\">\n                <div className=\"page-wrap\">\n                  <Networks msg={this.msg} />\n                </div>\n              </Route>\n              <Route exact path=\"/company/:id\">\n                <div className=\"page-wrap\">\n                  <Company msg={this.msg} />\n                </div>\n              </Route>\n              <Route path=\"*\" exact>\n                <div className=\"page-wrap\">\n                  <h1 className=\"main-title mb--1\">Not found</h1>\n                  <p>This page doesn't exist</p>\n                </div>\n              </Route>\n            </Switch>\n          </HashRouter>\n        </div>\n      );\n    }\n  }\n}\n\nfunction AppContainer(props) {\n  return <App plex={props.plex} api={props.api} user={props.user} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    plex: state.plex,\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(AppContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/store.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/auth/index.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Issues.js",["224"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport User from \"../data/User\";\n\nclass Issues extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: false,\n      open: this.props.open,\n      type: \"\",\n      option: \"\",\n      detail: \"\",\n    };\n\n    this.inputChange = this.inputChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  inputChange(e) {\n    const target = e.target;\n    const name = target.name;\n    let value = target.value;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  async submit() {\n    if (!this.state.option) {\n      this.props.msg({\n        message: `Please pick an option`,\n        type: \"error\",\n      });\n      return;\n    }\n    let id = this.state.id;\n    let user = this.props.user.current.id;\n    let type = this.state.type;\n    let data = this.props.api[`${type}_lookup`][id];\n    let title = false;\n    if (data) {\n      title = type === \"movie\" ? data.title : data.name;\n    }\n    console.log({\n      mediaId: id,\n      type: type,\n      title: title,\n      user: user,\n      issue: this.state.option,\n      comment: this.state.detail,\n    });\n    try {\n      await User.addIssue({\n        mediaId: id,\n        type: type,\n        title: title,\n        user: user,\n        issue: this.state.option,\n        comment: this.state.detail,\n      });\n      this.setState({\n        type: \"\",\n        option: \"\",\n        detail: \"\",\n      });\n      this.props.close();\n      this.props.msg({\n        message: `New Issue added`,\n        type: \"good\",\n      });\n    } catch {\n      this.props.msg({\n        message: \"Error adding issue, please try again later!\",\n        type: \"error\",\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.close();\n  }\n\n  componentDidUpdate() {\n    if (this.state.id !== this.props.match.params.id) {\n      let type;\n      switch (this.props.match.path) {\n        case \"/movie/:id\":\n          type = \"movie\";\n          break;\n        case \"/series/:id\":\n          type = \"series\";\n          break;\n        default:\n          type = \"unknown\";\n      }\n      this.props.close();\n      this.setState({\n        id: this.props.match.params.id,\n        type: type,\n      });\n    }\n\n    if (this.props.open !== this.state.open) {\n      this.setState({\n        open: this.props.open,\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className={`issues--wrap ${this.state.open ? \"active\" : \"\"}`}>\n        <div className=\"issues--inner\">\n          <div className=\"issues--top\">\n            <h3>Report an issue</h3>\n          </div>\n          <div className=\"issues--main\">\n            <section>\n              <p style={{ margin: 0 }}>\n                We try our best to provide good quality content without any problems, but sometimes things go wrong. Please use this form to let us know of any issues you've had whilst watching Plex\n                and we will do our best to fix them!\n              </p>\n            </section>\n            <section>\n              <p className=\"sub-title mb--1\">Details</p>\n              <p>Please fill out the fields below relating to the issue you are having with this show / movie.</p>\n              <input type=\"hidden\" name=\"id\" defaultValue={this.state.id} readOnly />\n              <input type=\"hidden\" name=\"type\" defaultValue={this.state.type} readOnly />\n              <input type=\"hidden\" name=\"user\" value={this.props.user.current.id} readOnly />\n              <div className=\"styled-input--select\">\n                <select name=\"option\" value={this.state.option} onChange={this.inputChange}>\n                  <option value=\"\">Choose an option</option>\n                  {this.state.type === \"movie\" ? (\n                    <>\n                      <option value=\"subs\">Missing Subtitles</option>\n                      <option value=\"bad-video\">Bad Quality / Video Issue</option>\n                      <option value=\"bad-audio\">Audio Issue / Audio Sync</option>\n                    </>\n                  ) : (\n                    <>\n                      <option value=\"episodes\">Missing Episodes</option>\n                      <option value=\"subs\">Missing Subtitles</option>\n                      <option value=\"bad-video\">Bad Quality / Video Issue</option>\n                      <option value=\"bad-audio\">Audio Issue / Audio Sync</option>\n                    </>\n                  )}\n                  <option value=\"other\">Other, please specify</option>\n                </select>\n              </div>\n              <textarea className=\"styled-input--textarea\" value={this.state.detail} placeholder=\"Notes\" name=\"detail\" onChange={this.inputChange}></textarea>\n            </section>\n            <div className=\"btn btn__square bad\" onClick={this.props.close}>\n              Cancel\n            </div>\n            <div className=\"btn btn__square save-issue\" onClick={this.submit}>\n              Submit\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nIssues = withRouter(Issues);\n\nfunction IssuesContainer(props) {\n  return <Issues api={props.api} user={props.user} close={props.close} open={props.open} msg={props.msg} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    user: state.user,\n    api: state.api,\n  };\n};\n\nexport default connect(mapStateToProps)(IssuesContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Sidebar.js",["225"],"import React from \"react\";\nimport { withRouter, Link, Router } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { ReactComponent as SearchIcon } from \"../assets/svg/search.svg\";\nimport { ReactComponent as MovieIcon } from \"../assets/svg/movie.svg\";\nimport { ReactComponent as TvIcon } from \"../assets/svg/tv.svg\";\nimport { ReactComponent as PersonIcon } from \"../assets/svg/people.svg\";\nimport { ReactComponent as RequestIcon } from \"../assets/svg/bookmark.svg\";\nimport { ReactComponent as AdminIcon } from \"../assets/svg/admin.svg\";\nimport { ReactComponent as BackIcon } from \"../assets/svg/back.svg\";\nimport pjson from \"../../package.json\";\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.goBack = this.goBack.bind(this);\n  }\n\n  stripTrailingSlash(str) {\n    if (str.substr(-1) === \"/\") {\n      return str.substr(0, str.length - 1);\n    }\n    return str;\n  }\n\n  goBack() {\n    this.props.history.goBack();\n  }\n\n  render() {\n    let current = this.props.location.pathname;\n    let user = this.props.user.current;\n    return (\n      <div className=\"sidebar--inner\">\n        <Link to=\"/\" className=\"logo\">\n          <p className=\"logo-text\" title=\"Petio\">\n            Pet<span>io</span>\n          </p>\n        </Link>\n        {current === \"/\" || current.startsWith(\"/search/\") ? null : (\n          <div className=\"back-btn\" onClick={this.goBack}>\n            <BackIcon />\n          </div>\n        )}\n        <Link to=\"/user\" className={\"sidebar--user-mob \"}>\n          <div className=\"icon\">\n            <div\n              className=\"thumb\"\n              style={{\n                backgroundImage: \"url(\" + user.thumb + \")\",\n                color: \"red\",\n              }}\n            ></div>\n          </div>\n        </Link>\n        <div className=\"sidebar--scroll\">\n          <Link to=\"/user\" className={\"sidebar--item user-profile \" + (current === \"/user\" || current.startsWith(\"/user/\") ? \"active\" : \"\")}>\n            <p>{user.title}</p>\n            <div className=\"icon\">\n              <div\n                className=\"thumb\"\n                style={{\n                  backgroundImage: \"url(\" + user.thumb + \")\",\n                  color: \"red\",\n                }}\n              ></div>\n            </div>\n          </Link>\n          <Link to=\"/\" className={\"sidebar--item \" + (current === \"/\" || current.startsWith(\"/search/\") ? \"active\" : \"\")}>\n            <p>Search</p>\n            <div className=\"icon\">\n              <SearchIcon />\n            </div>\n          </Link>\n          <Link to=\"/movies\" className={\"sidebar--item \" + (current === \"/movies\" || current.startsWith(\"/movie/\") ? \"active\" : \"\")}>\n            <p>Movies</p>\n            <div className=\"icon\">\n              <MovieIcon />\n            </div>\n          </Link>\n          <Link to=\"/tv\" className={\"sidebar--item \" + (current === \"/tv\" || current.startsWith(\"/series/\") ? \"active\" : \"\")}>\n            <p>TV Shows</p>\n            <div className=\"icon\">\n              <TvIcon />\n            </div>\n          </Link>\n          <Link to=\"/people\" className={\"sidebar--item \" + (current === \"/people\" || current.startsWith(\"/person/\") ? \"active\" : \"\")}>\n            <p>People</p>\n            <div className=\"icon\">\n              <PersonIcon />\n            </div>\n          </Link>\n          <Link to=\"/requests\" className={\"sidebar--item \" + (current === \"/requests\" || current.startsWith(\"/requests/\") ? \"active\" : \"\")}>\n            <p>Requests</p>\n            <div className=\"icon\">\n              <RequestIcon />\n            </div>\n          </Link>\n          {user.role === \"admin\" ? (\n            <a\n              className=\"sidebar--item\"\n              href={`${window.location.protocol}//${window.location.host}${window.location.pathname === \"/\" ? \"\" : this.stripTrailingSlash(window.location.pathname)}/admin/`}\n            >\n              <p>Admin</p>\n              <div className=\"icon\">\n                <AdminIcon />\n              </div>\n            </a>\n          ) : null}\n        </div>\n        <p className=\"sidebar--version\">version {pjson.version}</p>\n      </div>\n    );\n  }\n}\n\nSidebar = withRouter(Sidebar);\n\nfunction SidebarContainer(props) {\n  return <Sidebar api={props.api} user={props.user} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(SidebarContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Season.js",["226","227","228"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\n\nimport MovieShowTop from \"../components/MovieShowTop\";\nimport MovieShowOverview from \"../components/MovieShowOverview\";\nimport User from \"../data/User\";\nimport Review from \"../components/Review\";\nimport { ReactComponent as BackIcon } from \"../assets/svg/back.svg\";\n\nclass Season extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      onServer: false,\n      show: this.props.match.params.id,\n      season: this.props.match.params.season,\n      requested: false,\n    };\n\n    this.daysTillAir = this.daysTillAir.bind(this);\n    this.getReviews = this.getReviews.bind(this);\n    this.request = this.request.bind(this);\n    this.getRequests = this.getRequests.bind(this);\n  }\n\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n    let id = this.props.match.params.id;\n    let season = this.props.match.params.season;\n    this.getReviews();\n    this.getRequests();\n\n    if (!this.props.api.series_lookup[id]) {\n      // check for cached\n      Api.series(id);\n    } else if (this.props.api.series_lookup[id].isMinified) {\n      Api.series(id);\n    }\n  }\n\n  async request() {\n    let id = this.props.match.params.id;\n    let series = this.props.api.series_lookup[id];\n    let requests = this.props.user.requests[id];\n    if (requests) {\n      if (requests.users.includes(this.props.user.current.id)) {\n        this.props.msg({\n          message: \"Already Requested\",\n          type: \"error\",\n        });\n        return;\n      }\n    }\n    let request = {\n      id: series.id,\n      tmdb_id: series.id,\n      tvdb_id: series.tvdb_id,\n      imdb_id: series.imdb_id,\n      title: series.name,\n      type: \"tv\",\n      thumb: series.poster_path,\n    };\n\n    try {\n      await User.request(request, this.props.user.current);\n      this.props.msg({\n        message: `New Request added: ${series.name}`,\n        type: \"good\",\n      });\n      await User.getRequests();\n      this.getRequests();\n    } catch (err) {\n      this.props.msg({\n        message: err,\n        type: \"error\",\n      });\n    }\n  }\n\n  getReviews() {\n    let id = this.props.match.params.id;\n    User.getReviews(id);\n  }\n\n  getRequests() {\n    let id = this.props.match.params.id;\n    let requests = this.props.user.requests;\n    if (!requests) return;\n    if (!requests[id]) {\n      if (this.state.requested) {\n        this.setState({\n          requested: false,\n        });\n      }\n      return;\n    }\n    let requestUsers = Object.keys(requests[id].users).length;\n    if (this.props.user.requests[id] && requestUsers !== this.state.requested) {\n      this.setState({\n        requested: requestUsers,\n      });\n    } else if (!requests[id] && this.state.requested) {\n      this.setState({\n        requested: false,\n      });\n    }\n  }\n\n  daysTillAir(airDate) {\n    var oneDay = 24 * 60 * 60 * 1000;\n    var secondDate = new Date();\n    var firstDate = new Date(airDate);\n    let days = Math.round(Math.abs((firstDate.setHours(0, 0, 0, 0) - secondDate.setHours(0, 0, 0, 0)) / oneDay));\n\n    if (firstDate < secondDate) {\n      return <span className=\"aired\">Has aired on tv</span>;\n    }\n\n    return days < 100 ? (\n      <span className=\"not-aired\">\n        airs in {days} {days > 1 ? \"days\" : \"day\"}\n      </span>\n    ) : (\n      <span className=\"not-aired\">Not yet aired</span>\n    );\n  }\n\n  render() {\n    let id = this.props.match.params.id;\n    let season = this.props.match.params.season;\n    let seriesData = Object.assign({}, this.props.api.series_lookup[id]);\n    let seasonData = this.props.api.series_lookup[id] ? this.props.api.series_lookup[id].seasonData[season] : false;\n    if (seriesData) seriesData.poster_path = seasonData ? seasonData.poster_path : seriesData.poster_path;\n    console.log(seasonData);\n    let now = new Date();\n    now.setHours(0, 0, 0, 0);\n    if (!seriesData || !seasonData) {\n      return (\n        <div className=\"page-wrap\">\n          <p>Loading...</p>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"media-wrap\" data-id={seriesData.imdb_id} key={`${seriesData.title}__wrap`}>\n          <Review id={this.props.match.params.id} user={this.props.user.current} active={this.state.reviewOpen} closeReview={this.closeReview} getReviews={this.getReviews} item={seriesData} />\n          <MovieShowTop mediaData={seriesData} trailer={this.state.trailer} requested={this.state.requested} request={this.request} openIssues={this.props.openIssues} />\n          <div className=\"media-content\">\n            <section>\n              <div className=\"quick-view\">\n                <div className=\"side-content\">\n                  <div className=\"media-action\">\n                    <Link to={`/series/${id}`} className=\"btn btn__square\">\n                      <BackIcon />\n                      Back to {seriesData.name}\n                    </Link>\n                  </div>\n                </div>\n                <div className=\"detail--wrap\">\n                  <div className=\"detail--content\">\n                    <div className=\"media--actions__mob\">\n                      <Link to={`/series/${id}`} className=\"btn btn__square\">\n                        <BackIcon />\n                        Back to {seriesData.name}\n                      </Link>\n                    </div>\n                    <div className=\"detail--bar\">\n                      <p>{new Date(seasonData.air_date).getFullYear()}</p>\n                      <div className=\"detail--bar--sep\">Â·</div>\n                      <p>{seasonData.name}</p>\n                    </div>\n                    <p className=\"sub-title mb--1\">Overview</p>\n                    <p className=\"overview\">{seasonData.overview}</p>\n                  </div>\n                </div>\n              </div>\n            </section>\n            <section>\n              <h3 className=\"sub-title mb--1\">{`${seasonData.episodes.length} Episodes`}</h3>\n              <div className=\"season-episodes\">\n                {seasonData.episodes.map((episode) => {\n                  let airDate = episode.air_date ? Date.parse(episode.air_date) : false;\n                  return (\n                    <div className={\"season-episode \" + (airDate < now ? \"aired\" : \"not-aired\")}>\n                      <div className=\"season-episode--img\">\n                        <img src={`https://image.tmdb.org/t/p/w500/${episode.still_path ? episode.still_path : seriesData.poster_path}`} />\n                      </div>\n                      <div className=\"season-episode--info\">\n                        <p className=\"upper small ep-num\">\n                          Season {episode.season_number}: Episode {episode.episode_number} - {this.daysTillAir(airDate)}\n                        </p>\n                        <h4 className=\"sub-title\">{episode.name}</h4>\n                        <p className=\"small detail\">{episode.overview}</p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </section>\n          </div>\n        </div>\n      );\n      // if (seriesData.isMinified) {\n      //   return <p>Loading...</p>;\n      // }\n      // return (\n      //   <div\n      //     className=\"page-wrap season-wrap\"\n      //     style={{\n      //       backgroundImage: \"url(https://image.tmdb.org/t/p/original/\" + seriesData.backdrop_path + \")\",\n      //     }}\n      //   >\n      //     <div className=\"season-inner\">\n      //       <div className=\"season-details\">\n      //         <div className=\"stick\">\n      //           <div>\n      //             <Link to={`/series/${id}`} className=\"btn btn__square\">\n      //               {seriesData.name}\n      //             </Link>\n      //           </div>\n      //           {seriesData.logo ? (\n      //             <div>\n      //               <img className=\"media-logo__small\" src={seriesData.logo} />\n      //             </div>\n      //           ) : null}\n      //           <h1 className=\"main-title\">{seasonData.name}</h1>\n      //           <p className=\"overview\">{seasonData.overview}</p>\n      //         </div>\n      //       </div>\n      //       <div className=\"season-episodes\">\n      //         <div className=\"season-episodes-inner\">\n      //           {seasonData.episodes.map((episode) => {\n      //             let airDate = episode.air_date ? Date.parse(episode.air_date) : false;\n      //             return (\n      //               <div className={\"season-episode \" + (airDate < now ? \"aired\" : \"not-aired\")}>\n      //                 <div className=\"season-episode--img\">\n      //                   <img src={`https://image.tmdb.org/t/p/w500/${episode.still_path}`} />\n      //                 </div>\n      //                 <div className=\"season-episode--info\">\n      //                   <p className=\"upper small ep-num\">\n      //                     Season {episode.season_number}: Episode {episode.episode_number} - {this.daysTillAir(airDate)}\n      //                   </p>\n      //                   <h4 className=\"sub-title\">{episode.name}</h4>\n      //                   <p className=\"small detail\">{episode.overview}</p>\n      //                 </div>\n      //                 <div className=\"season-episode--actions\">\n      //                   <button className=\"btn btn__square\">Request</button>\n      //                   <button className=\"btn btn__square\">Report an issue</button>\n      //                 </div>\n      //               </div>\n      //             );\n      //           })}\n      //         </div>\n      //       </div>\n      //     </div>\n      //   </div>\n      // );\n    }\n  }\n}\n\nSeason = withRouter(Season);\n\nfunction SeasonContainer(props) {\n  return <Season api={props.api} user={props.user} openIssues={props.openIssues} msg={props.msg} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(SeasonContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Profile.js",["229","230","231","232","233","234","235","236"],"import React from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport User from '../data/User';\nimport History from '../components/History';\nimport { ReactComponent as ResIconHd } from '../assets/svg/720p.svg';\nimport { ReactComponent as ResIconFHd } from '../assets/svg/1080p.svg';\nimport { ReactComponent as ResIconUHd } from '../assets/svg/4k.svg';\n\nclass Profile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\topen4kmodal: false,\n\t\t};\n\n\t\tthis.open4k = this.open4k.bind(this);\n\t\tthis.close4k = this.close4k.bind(this);\n\t}\n\tcomponentDidMount() {\n\t\tlet page = document.querySelectorAll('.page-wrap')[0];\n\t\tpage.scrollTop = 0;\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\topen4k() {\n\t\tthis.setState({\n\t\t\topen4kmodal: true,\n\t\t});\n\t}\n\n\tclose4k() {\n\t\tthis.setState({\n\t\t\topen4kmodal: false,\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"profile-page\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={`modal-4k-request ${\n\t\t\t\t\t\tthis.state.open4kmodal ? 'open' : ''\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"modal-4k-request--top\">\n\t\t\t\t\t\t<h3>Request 4K / UHD Access</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-4k-request--content\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tAccess to 4K / UHD content is limited to users who\n\t\t\t\t\t\t\thave both the internet speed and devices to watch 4K\n\t\t\t\t\t\t\twithout buffering or the server trying to convert\n\t\t\t\t\t\t\tdown to a lower resolution.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tBefore processing your request make sure your device\n\t\t\t\t\t\t\tcan play HEVC (aka h.265) and your internet speed is\n\t\t\t\t\t\t\tabove 50mbps. Check your TV / device manual for\n\t\t\t\t\t\t\tinformation on video codecs and perform a speed test\n\t\t\t\t\t\t\tbelow.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div className=\"modal-4k-request--speed\">\n\t\t\t\t\t\t\t<iframe src=\"https://www.metercustom.net/plugin/\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tPassed both criteria? Click below to request access.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"btn btn__square bad modal-4k-request--cancel\"\n\t\t\t\t\t\t\tonClick={this.close4k}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button className=\"modal-4k-request--submit btn btn__square\">\n\t\t\t\t\t\t\tRequest Access\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<h1 className=\"main-title mb--2\">Your Account</h1>\n\t\t\t\t<section>\n\t\t\t\t\t<div className=\"profile-overview\">\n\t\t\t\t\t\t<div className=\"profile-thumb\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://app.plex.tv/desktop#!/settings/account\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tclassName=\"thumb\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t\t\t'url(' +\n\t\t\t\t\t\t\t\t\t\tthis.props.user.current.thumb +\n\t\t\t\t\t\t\t\t\t\t')',\n\t\t\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></a>\n\t\t\t\t\t\t\t<div className=\"hover\">\n\t\t\t\t\t\t\t\t<p>Change</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"profile-info\">\n\t\t\t\t\t\t\t<h3 className=\"sub-title\">\n\t\t\t\t\t\t\t\t{this.props.user.current.username}\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<p className=\"email\">\n\t\t\t\t\t\t\t\t{this.props.user.current.email}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"role\">\n\t\t\t\t\t\t\t\t{this.props.user.current.admin\n\t\t\t\t\t\t\t\t\t? 'Admin'\n\t\t\t\t\t\t\t\t\t: 'Friend'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <div className=\"profile-access\">\n\t\t\t\t\t\t\t<h3 className=\"sub-title\">Content Access</h3>\n\t\t\t\t\t\t\t<div className=\"a-wrap\">\n\t\t\t\t\t\t\t\t<div className=\"a-720 a-icon\">\n\t\t\t\t\t\t\t\t\t<ResIconHd />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"a-1080 a-icon\">\n\t\t\t\t\t\t\t\t\t<ResIconFHd />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`a-4k a-icon ${\n\t\t\t\t\t\t\t\t\t\tthis.props.user.current.uhd\n\t\t\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t\t\t: 'disabled'\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ResIconUHd />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{!this.props.user.current.uhd ? (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn__square request-access-4k mt--1\"\n\t\t\t\t\t\t\t\t\tonClick={this.open4k}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRequest Access to UHD / 4K?\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t<div className=\"profile-logout\">\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tclassName=\"logout sub-title\"\n\t\t\t\t\t\t\t\tonClick={this.props.logout}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<History type=\"movie\" />\n\t\t\t\t<History type=\"show\" />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nProfile = withRouter(Profile);\n\nfunction ProfileContainer(props) {\n\treturn <Profile user={props.user} logout={props.logout} />;\n}\n\nconst mapStateToProps = function (state) {\n\treturn {\n\t\tuser: state.user,\n\t};\n};\n\nexport default connect(mapStateToProps)(ProfileContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Search.js",["237"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\nimport { ReactComponent as SearchIcon } from \"../assets/svg/search.svg\";\nimport MovieCard from \"../components/MovieCard\";\nimport TvCard from \"../components/TvCard\";\nimport Carousel from \"../components/Carousel\";\nimport PersonCard from \"../components/PersonCard\";\nimport CarouselLoading from \"../components/CarouselLoading\";\nimport CarouselLoadingPerson from \"../components/CarouselLoadingPerson\";\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchTerm: \"\",\n      searchActive: false,\n      isLoading: false,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    if (e.currentTarget.value.length > 2) {\n      let term = e.currentTarget.value;\n      this.setState({\n        isLoading: true,\n      });\n      // throttle search lookup during constant typing\n      setTimeout(() => {\n        if (term === this.state.searchTerm) {\n          this.setState({\n            isLoading: true,\n          });\n          Api.search(term)\n            .then(() => {\n              this.setState({\n                isLoading: false,\n              });\n            })\n            .catch(() => {\n              this.setState({\n                isLoading: false,\n              });\n            });\n        }\n      }, 500);\n      this.setState({\n        searchTerm: e.currentTarget.value,\n        searchActive: true,\n      });\n    } else {\n      Api.clearSearch();\n      this.setState({\n        searchTerm: e.currentTarget.value,\n        searchActive: false,\n        isLoading: false,\n      });\n    }\n  }\n\n  componentDidMount() {\n    Api.getPopular();\n\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    let searchResults = (\n      <>\n        <section>\n          <h3 className=\"sub-title mb--1\">Movies</h3>\n          {this.props.api.search_results.movies.length > 0 ? (\n            <Carousel>\n              {this.props.api.search_results.movies.map((movie) => {\n                return <MovieCard key={movie.id} movie={movie} msg={this.props.msg} />;\n              })}\n            </Carousel>\n          ) : this.state.isLoading ? (\n            <CarouselLoading />\n          ) : (\n            <p>No results</p>\n          )}\n        </section>\n        <section>\n          <h3 className=\"sub-title mb--1\">Shows</h3>\n          {this.props.api.search_results.series.length > 0 ? (\n            <Carousel>\n              {this.props.api.search_results.series.map((series) => {\n                return <TvCard key={series.id} series={series} msg={this.props.msg} />;\n              })}\n            </Carousel>\n          ) : this.state.isLoading ? (\n            <CarouselLoading />\n          ) : (\n            <p>No results</p>\n          )}\n        </section>\n        <section>\n          <h3 className=\"sub-title mb--1\">People</h3>\n          {this.props.api.search_results.people.length > 0 ? (\n            <Carousel>\n              {this.props.api.search_results.people.map((person) => {\n                return <PersonCard key={person.id} person={person} />;\n              })}\n            </Carousel>\n          ) : this.state.isLoading ? (\n            <CarouselLoadingPerson />\n          ) : (\n            <p>No results</p>\n          )}\n        </section>\n      </>\n    );\n    let trending = (\n      <>\n        <section>\n          <h3 className=\"sub-title mb--1\">Trending Movies</h3>\n          {Object.keys(this.props.api.popular).length > 0 ? (\n            <Carousel>\n              {Object.keys(this.props.api.popular).length > 0\n                ? this.props.api.popular.movies.map((movie) => {\n                    return <MovieCard key={movie.id} movie={movie} />;\n                  })\n                : null}\n            </Carousel>\n          ) : (\n            <CarouselLoading />\n          )}\n        </section>\n        <section>\n          <h3 className=\"sub-title mb--1\">Trending Shows</h3>\n          {Object.keys(this.props.api.popular).length > 0 ? (\n            <Carousel>\n              {Object.keys(this.props.api.popular).length > 0\n                ? this.props.api.popular.tv.map((series) => {\n                    return <TvCard key={series.id} series={series} msg={this.props.msg} />;\n                  })\n                : null}\n            </Carousel>\n          ) : (\n            <CarouselLoading />\n          )}\n        </section>\n        <section>\n          <h3 className=\"sub-title mb--1\">Trending People</h3>\n          <Carousel>\n            {Object.keys(this.props.api.popular).length > 0\n              ? this.props.api.popular.people.map((person) => {\n                  return <PersonCard key={person.id} person={person} />;\n                })\n              : null}\n          </Carousel>\n        </section>\n      </>\n    );\n    return (\n      <div className=\"search-wrap\">\n        <section>\n          <h1 className=\"main-title mb--1\">Search</h1>\n          <div className=\"search-form\">\n            <input type=\"text\" placeholder=\"Search\" value={this.state.searchTerm} onChange={this.handleChange} />\n            <button className=\"search-btn\">\n              <SearchIcon />\n            </button>\n          </div>\n        </section>\n        {this.state.searchActive ? searchResults : trending}\n      </div>\n    );\n  }\n}\n\nSearch = withRouter(Search);\n\nfunction SearchContainer(props) {\n  return <Search api={props.api} msg={props.msg} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n  };\n};\n\nexport default connect(mapStateToProps)(SearchContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Movie.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Series.js",["238","239","240","241","242","243","244","245","246","247","248","249"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PersonCard from \"../components/PersonCard\";\nimport TvCard from \"../components/TvCard\";\nimport Api from \"../data/Api\";\nimport Carousel from \"../components/Carousel\";\nimport { ReactComponent as RequestIcon } from \"../assets/svg/request.svg\";\nimport { ReactComponent as ReportIcon } from \"../assets/svg/report.svg\";\nimport { ReactComponent as WatchIcon } from \"../assets/svg/play.svg\";\nimport { ReactComponent as CheckIcon } from \"../assets/svg/check.svg\";\nimport { ReactComponent as StarIcon } from \"../assets/svg/star.svg\";\nimport { ReactComponent as TrailerIcon } from \"../assets/svg/video.svg\";\nimport { ReactComponent as PersonCircleIcon } from \"../assets/svg/person-circle.svg\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport \"react-lazy-load-image-component/src/effects/blur.css\";\nimport User from \"../data/User\";\nimport Review from \"../components/Review\";\nimport ReviewsList from \"../components/ReviewsLists\";\nimport MovieShowLoading from \"../components/MovieShowLoading\";\nimport MovieShowTop from \"../components/MovieShowTop\";\nimport MovieShowOverview from \"../components/MovieShowOverview\";\n\nclass Series extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      onServer: false,\n      id: this.props.match.params.id,\n      requested: false,\n      related: false,\n      trailer: false,\n      reviewOpen: false,\n    };\n\n    this.getSeries = this.getSeries.bind(this);\n    this.request = this.request.bind(this);\n    this.getRequests = this.getRequests.bind(this);\n    // this.getRelated = this.getRelated.bind(this);\n    this.init = this.init.bind(this);\n    this.showTrailer = this.showTrailer.bind(this);\n    this.openReview = this.openReview.bind(this);\n    this.closeReview = this.closeReview.bind(this);\n    this.getReviews = this.getReviews.bind(this);\n  }\n\n  componentDidUpdate() {\n    this.getRequests();\n    if (this.props.match.params.id !== this.state.id) {\n      this.setState({\n        onServer: false,\n        id: this.props.match.params.id,\n        requested: false,\n        related: false,\n      });\n      this.init();\n    }\n  }\n\n  init() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n    let id = this.props.match.params.id;\n\n    this.getSeries(id);\n    this.getRequests();\n    this.getReviews();\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  getRequests() {\n    let id = this.props.match.params.id;\n    let requests = this.props.user.requests;\n    if (!requests) return;\n    if (!requests[id]) {\n      if (this.state.requested) {\n        this.setState({\n          requested: false,\n        });\n      }\n      return;\n    }\n    let requestUsers = Object.keys(requests[id].users).length;\n    if (this.props.user.requests[id] && requestUsers !== this.state.requested) {\n      this.setState({\n        requested: requestUsers,\n      });\n    } else if (!requests[id] && this.state.requested) {\n      this.setState({\n        requested: false,\n      });\n    }\n  }\n\n  async request() {\n    let id = this.props.match.params.id;\n    let series = this.props.api.series_lookup[id];\n    let requests = this.props.user.requests[id];\n    if (requests) {\n      if (requests.users.includes(this.props.user.current.id)) {\n        this.props.msg({\n          message: \"Already Requested\",\n          type: \"error\",\n        });\n        return;\n      }\n    }\n    let request = {\n      id: series.id,\n      tmdb_id: series.id,\n      tvdb_id: series.tvdb_id,\n      imdb_id: series.imdb_id,\n      title: series.name,\n      type: \"tv\",\n      thumb: series.poster_path,\n    };\n\n    try {\n      await User.request(request, this.props.user.current);\n      this.props.msg({\n        message: `New Request added: ${series.name}`,\n        type: \"good\",\n      });\n      await User.getRequests();\n      this.getRequests();\n    } catch (err) {\n      this.props.msg({\n        message: err,\n        type: \"error\",\n      });\n    }\n  }\n\n  getReviews() {\n    let id = this.props.match.params.id;\n    User.getReviews(id);\n  }\n\n  getSeries() {\n    let id = this.props.match.params.id;\n\n    if (!this.props.api.series_lookup[id]) {\n      // check for cached\n      Api.series(id);\n    } else if (this.props.api.series_lookup[id].isMinified) {\n      Api.series(id);\n    }\n  }\n\n  timeConvert(n) {\n    var num = n;\n    var hours = num / 60;\n    var rhours = Math.floor(hours);\n    var minutes = (hours - rhours) * 60;\n    var rminutes = Math.round(minutes);\n    var hrs = rhours < 1 ? \"\" : rhours === 1 ? \"hr\" : rhours > 1 ? \"hrs\" : \"\";\n    return `${rhours >= 1 ? rhours : \"\"} ${hrs} ${rminutes} mins`;\n  }\n\n  findNested(obj, key, value) {\n    // Base case\n    if (obj[key] === value) {\n      return obj;\n    } else {\n      for (var i = 0, len = Object.keys(obj).length; i < len; i++) {\n        if (typeof obj[i] == \"object\") {\n          var found = this.findNested(obj[i], key, value);\n          if (found) {\n            // If the object was found in the recursive call, bubble it up.\n            return found;\n          }\n        }\n      }\n    }\n  }\n\n  openReview() {\n    this.setState({\n      reviewOpen: true,\n    });\n  }\n\n  closeReview() {\n    this.setState({\n      reviewOpen: false,\n    });\n  }\n\n  showTrailer() {\n    this.setState({\n      trailer: this.state.trailer ? false : true,\n    });\n  }\n\n  render() {\n    let id = this.state.id;\n    let seriesData = this.props.api.series_lookup[id];\n\n    if (!seriesData) {\n      return <MovieShowLoading />;\n    }\n\n    if (seriesData.isMinified) {\n      return <MovieShowLoading />;\n    }\n\n    let related = null;\n    let relatedItems = null;\n    if (seriesData.recommendations) {\n      relatedItems = seriesData.recommendations.map((key) => {\n        // if (this.props.api.series_lookup[id]) {\n        return <TvCard key={`related-${key}`} msg={this.props.msg} series={{ id: key }} />;\n        // }\n      });\n      related = (\n        <section>\n          <h3 className=\"sub-title mb--1\">Related Shows</h3>\n          <Carousel>{relatedItems}</Carousel>\n        </section>\n      );\n    }\n\n    let reviewBtn = null;\n\n    if (this.props.user.reviews) {\n      if (this.props.user.reviews[this.props.match.params.id]) {\n        var hasReviewed = false;\n        for (var i = 0; i < this.props.user.reviews[this.props.match.params.id].length; i++) {\n          if (this.props.user.reviews[this.props.match.params.id][i].user == this.props.user.current._id) {\n            hasReviewed = this.props.user.reviews[this.props.match.params.id][i];\n            break;\n          }\n        }\n        reviewBtn = (\n          <button className=\"btn btn__square\" onClick={this.openReview}>\n            {!hasReviewed ? (\n              <>\n                <StarIcon />\n                Review\n              </>\n            ) : (\n              <>\n                <StarIcon />\n                Reviewed {(hasReviewed.score / 10) * 100}%\n              </>\n            )}\n          </button>\n        );\n      }\n    }\n\n    let seasons = seriesData.seasons;\n\n    let userRating = \"Not Reviewed\";\n    let userRatingVal = 0;\n\n    if (this.props.user.reviews) {\n      if (this.props.user.reviews[this.props.match.params.id]) {\n        if (Object.keys(this.props.user.reviews[this.props.match.params.id]).length) {\n          let ratingsUser = 0;\n\n          Object.keys(this.props.user.reviews[this.props.match.params.id]).map((r) => {\n            ratingsUser += (this.props.user.reviews[this.props.match.params.id][r].score / 10) * 100;\n          });\n\n          userRating = `${(ratingsUser / Object.keys(this.props.user.reviews[this.props.match.params.id]).length).toFixed(0)}% (${\n            Object.keys(this.props.user.reviews[this.props.match.params.id]).length\n          } reviews)`;\n          userRatingVal = ratingsUser / Object.keys(this.props.user.reviews[this.props.match.params.id]).length;\n        }\n      }\n    }\n\n    let video = false;\n    if (seriesData.videos.results) {\n      for (let i = 0; i < seriesData.videos.results.length; i++) {\n        let vid = seriesData.videos.results[i];\n        if (vid.site === \"YouTube\" && !video) {\n          video = vid;\n        }\n      }\n    }\n\n    return (\n      <div className=\"media-wrap\" data-id={seriesData.imdb_id} key={`${seriesData.title}__wrap`}>\n        <Review\n          id={this.props.match.params.id}\n          msg={this.props.msg}\n          user={this.props.user.current}\n          active={this.state.reviewOpen}\n          closeReview={this.closeReview}\n          getReviews={this.getReviews}\n          item={seriesData}\n        />\n        <MovieShowTop mediaData={seriesData} video={video} trailer={this.state.trailer} requested={this.state.requested} request={this.request} openIssues={this.props.openIssues} />\n\n        <div className=\"media-content\">\n          <MovieShowOverview\n            mediaData={seriesData}\n            video={video}\n            user={this.props.user}\n            showTrailer={this.showTrailer}\n            match={this.props.match}\n            openReview={this.openReview}\n            requested={this.state.requested}\n            request={this.request}\n            externalReviews={seriesData.reviews}\n            openIssues={this.props.openIssues}\n          />\n\n          <section>\n            <h3 className=\"sub-title mb--1\">Seasons</h3>\n            <Carousel>\n              {seasons.map((season) => {\n                return (\n                  <div className=\"card type--movie-tv\" key={`season--${season.season_number}${id}`}>\n                    <div className=\"card--inner\">\n                      <Link to={`/series/${id}/season/${season.season_number}`} className=\"full-link\"></Link>\n                      <div className=\"image-wrap\">\n                        {season.poster_path ? (\n                          <img src={`https://image.tmdb.org/t/p/w200/${season.poster_path}`} alt={season.name} />\n                        ) : seriesData.poster_path ? (\n                          <img src={`https://image.tmdb.org/t/p/w500/${seriesData.poster_path}`} alt={season.name} />\n                        ) : null}\n                      </div>\n                      <div className=\"text-wrap\">\n                        <p className=\"title\">\n                          {season.name}\n                          <span className=\"year\">{season.air_date ? \"(\" + new Date(season.air_date).getFullYear() + \")\" : \"\"}</span>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </Carousel>\n          </section>\n          <section>\n            <h3 className=\"sub-title mb--1\">Cast</h3>\n            <Carousel>\n              {seriesData.credits.cast.map((cast, key) => {\n                return <PersonCard key={`${cast.name}--${cast.character}`} person={cast} character={cast.character} />;\n              })}\n            </Carousel>\n          </section>\n          {related}\n\n          <section>\n            <h3 className=\"sub-title mb--1\">Reviews</h3>\n            {this.props.user.reviews ? <ReviewsList reviews={this.props.user.reviews[id]} external={seriesData.reviews} /> : null}\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nSeries = withRouter(Series);\n\nfunction SeriesContainer(props) {\n  return <Series api={props.api} user={props.user} msg={props.msg} openIssues={props.openIssues} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(SeriesContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Actor.js",["250","251","252","253"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\nimport MovieCard from \"../components/MovieCard\";\nimport TvCard from \"../components/TvCard\";\nimport Carousel from \"../components/Carousel\";\nimport { ReactComponent as Spinner } from \"../assets/svg/spinner.svg\";\n\nclass Actor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      bioOpen: false,\n    };\n\n    this.getActor = this.getActor.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.toggleBio = this.toggleBio.bind(this);\n  }\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n    let id = this.props.match.params.id;\n\n    this.getActor(id);\n  }\n\n  getActor(id) {\n    if (!this.props.api.person_lookup[id]) {\n      // check for cached\n      Api.person(id);\n    }\n  }\n\n  handleScroll(e) {\n    let banner = e.currentTarget.querySelectorAll(\".person--banner\")[0];\n    let poster = e.currentTarget.querySelectorAll(\".person--thumb--inner\")[0];\n    let offset = e.currentTarget.scrollTop > banner.offsetHeight ? 1 : e.currentTarget.scrollTop / banner.offsetHeight;\n    let posterOffset = 10 * offset;\n    offset = offset * 10 + 40;\n    banner.style.backgroundPosition = `50% ${offset}%`;\n    poster.style.transform = `translateY(${posterOffset}px)`;\n  }\n\n  sortByRanking(a, b) {\n    if (a.ranking < b.ranking) {\n      return 1;\n    }\n    if (a.ranking > b.ranking) {\n      return -1;\n    }\n    return 0;\n  }\n\n  processCredits(credits, items) {\n    for (let i in items) {\n      let item = items[i];\n      if (!credits[item.id]) {\n        let ranking = Math.round(item.popularity * item.vote_count);\n        item.ranking = ranking;\n        credits[item.id] = item;\n      }\n\n      if (item.job) {\n        if (credits[item.id].jobs) {\n          credits[item.id].jobs[item.job] = item.job;\n        } else {\n          credits[item.id].jobs = new Array();\n          credits[item.id].jobs[item.job] = item.job;\n        }\n      }\n      if (item.character) {\n        if (credits[item.id].characters) {\n          credits[item.id].characters[item.character] = item.character;\n        } else {\n          credits[item.id].characters = new Array();\n          credits[item.id].characters[item.character] = item.character;\n        }\n      }\n    }\n    return credits;\n  }\n\n  processCredit(item, personData) {\n    let credit = null;\n\n    if (personData.known_for_department !== \"Acting\") {\n      // Not actor\n      credit = item.jobs ? item.jobs : item.characters ? item.characters : null;\n    } else {\n      // actor\n      credit = item.characters ? item.characters : item.jobs ? item.jobs : null;\n    }\n\n    if (credit) {\n      let output = \"\";\n      for (let i in credit) {\n        output += `${credit[i]} / `;\n      }\n      credit = output;\n      credit = credit.substring(0, credit.length - 3);\n    }\n\n    return credit;\n  }\n\n  toggleBio() {\n    this.setState({\n      bioOpen: this.state.bioOpen ? false : true,\n    });\n  }\n\n  render() {\n    let id = this.props.match.params.id;\n    let personData = this.props.api.person_lookup[id];\n\n    if (!personData) {\n      return (\n        <div className=\"page-wrap\">\n          <div className=\"spinner\">\n            <Spinner />\n          </div>\n        </div>\n      );\n    }\n\n    let banner = false;\n    let bWidth = 0;\n\n    // Credits Movie\n    let movieCredits = this.props.api.actor_movie[id];\n    let moviesList = false;\n\n    if (movieCredits) {\n      moviesList = {};\n      moviesList = this.processCredits(moviesList, movieCredits.cast);\n      moviesList = this.processCredits(moviesList, movieCredits.crew);\n      moviesList = Object.values(moviesList);\n      moviesList.sort(this.sortByRanking);\n    }\n\n    // Credits TV\n    let tvCredits = this.props.api.actor_series[id];\n    let showsList = false;\n\n    if (tvCredits) {\n      showsList = {};\n      showsList = this.processCredits(showsList, tvCredits.cast);\n      showsList = this.processCredits(showsList, tvCredits.crew);\n      showsList = Object.values(showsList);\n      showsList.sort(this.sortByRanking);\n    }\n\n    if (!personData.images) {\n      banner = false;\n      bWidth = 0;\n    } else {\n      personData.images.profiles.forEach((image) => {\n        if (image.width > bWidth) {\n          banner = image;\n          bWidth = image.width;\n        }\n      });\n    }\n\n    return (\n      <>\n        <div className=\"page-wrap\" onScroll={this.handleScroll}>\n          <div className=\"person--wrap\">\n            <div\n              className=\"person--banner\"\n              style={{\n                backgroundImage: `url(https://image.tmdb.org/t/p/original/${banner.file_path})`,\n              }}\n            ></div>\n            <div className=\"person--top\">\n              <div className=\"person--thumb\">\n                <div className=\"person--thumb--inner\">\n                  <img src={`https://image.tmdb.org/t/p/w1280/${personData.profile_path}`} />\n                </div>\n              </div>\n              <div className=\"person--details\">\n                <h1 className=\"single-title\">{personData.name}</h1>\n                <p>{personData.place_of_birth}</p>\n                <p>{personData.known_for_department}</p>\n              </div>\n            </div>\n            <section>\n              <div className=\"person--bio\">\n                <h3 className=\"sub-title mb--1\">Biography</h3>\n                <div className={`bio ${this.state.bioOpen ? \"open\" : \"\"}`}>\n                  {personData.biography.split(\"\\n\").map((str, i) => (\n                    <p key={`bio-${i}`}>{str}</p>\n                  ))}\n                </div>\n                <p onClick={this.toggleBio} className=\"person--bio--read-more\">\n                  {this.state.bioOpen ? \"Read less\" : \"Read more\"}\n                </p>\n              </div>\n            </section>\n            {moviesList.length > 0 ? (\n              <section>\n                <h3 className=\"sub-title mb--1\">Movies</h3>\n                <Carousel>\n                  {Object.keys(moviesList).map((key, i) => {\n                    let result = moviesList[key];\n                    if (result.rating < 100) return null; // threshold to display\n                    return <MovieCard key={result.id + \"-cast-\" + i} movie={result} msg={this.props.msg} character={this.processCredit(result, personData)} />;\n                  })}\n                </Carousel>\n              </section>\n            ) : null}\n            {showsList.length > 0 ? (\n              <section>\n                <h3 className=\"sub-title mb--1\">TV</h3>\n                <Carousel>\n                  {Object.keys(showsList).map((key, i) => {\n                    let result = showsList[key];\n                    if (result.rating < 100) return null; // threshold to display\n                    return <TvCard key={result.id + \"-cast-\" + i} series={result} msg={this.props.msg} character={this.processCredit(result, personData)} />;\n                  })}\n                </Carousel>\n              </section>\n            ) : null}\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nActor = withRouter(Actor);\n\nfunction ActorContainer(props) {\n  return <Actor api={props.api} msg={props.msg} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n  };\n};\n\nexport default connect(mapStateToProps)(ActorContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Movies.js",["254"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\nimport Popular from \"../components/Popular\";\nimport History from \"../components/History\";\nimport MovieCard from \"../components/MovieCard\";\nimport Carousel from \"../components/Carousel\";\n\nclass Movies extends React.Component {\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n\n    if (!Object.keys(this.props.api.popular).length > 0) {\n      Api.getPopular();\n    }\n  }\n  render() {\n    return (\n      <>\n        <h1 className=\"main-title mb--1\">Movies</h1>\n        <Popular type=\"movie\" />\n        <History type=\"movie\" />\n        <section>\n          <h3 className=\"sub-title mb--1\">Trending Movies</h3>\n          <p>Movies trending online right now</p>\n          <Carousel>\n            {Object.keys(this.props.api.popular).length > 0\n              ? this.props.api.popular.movies.map((movie) => {\n                  return <MovieCard key={movie.id} msg={this.props.msg} movie={movie} />;\n                })\n              : null}\n          </Carousel>\n        </section>\n      </>\n    );\n  }\n}\n\nMovies = withRouter(Movies);\n\nfunction MoviesContainer(props) {\n  return <Movies api={props.api} msg={props.msg} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n  };\n};\n\nexport default connect(mapStateToProps)(MoviesContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Shows.js",["255"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\nimport Popular from \"../components/Popular\";\nimport History from \"../components/History\";\nimport ShowCard from \"../components/TvCard\";\nimport Carousel from \"../components/Carousel\";\n\nclass Shows extends React.Component {\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n\n    if (!Object.keys(this.props.api.popular).length > 0) {\n      Api.getPopular();\n    }\n  }\n  render() {\n    return (\n      <>\n        <h1 className=\"main-title mb--1\">TV Shows</h1>\n        <Popular type=\"show\" />\n        <History type=\"show\" />\n        <section>\n          <h3 className=\"sub-title mb--1\">Trending Shows</h3>\n          <p>Shows trending online right now</p>\n          <Carousel>\n            {Object.keys(this.props.api.popular).length > 0\n              ? this.props.api.popular.tv.map((tv) => {\n                  return <ShowCard key={tv.id} msg={this.props.msg} series={tv} />;\n                })\n              : null}\n          </Carousel>\n        </section>\n      </>\n    );\n  }\n}\n\nShows = withRouter(Shows);\n\nfunction MoviesContainer(props) {\n  return <Shows api={props.api} msg={props.msg} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n  };\n};\n\nexport default connect(mapStateToProps)(MoviesContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/reducers.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Requests.js",["256","257","258","259","260"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\nimport RequestCard from \"../components/RequestCard\";\nimport Carousel from \"../components/Carousel\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport MovieCard from \"../components/MovieCard\";\nimport { ReactComponent as MovieIcon } from \"../assets/svg/movie.svg\";\nimport { ReactComponent as TvIcon } from \"../assets/svg/tv.svg\";\n\nclass Requests extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      requests: false,\n      loaded: false,\n      calendar: false,\n    };\n\n    this.getRequests = this.getRequests.bind(this);\n    this.getCalendar = this.getCalendar.bind(this);\n  }\n\n  componentDidMount() {\n    let page = document.querySelectorAll(\".page-wrap\")[0];\n    page.scrollTop = 0;\n    window.scrollTo(0, 0);\n    this.getRequests();\n    this.getCalendar();\n  }\n\n  componentDidUpdate() {\n    let requests = this.state.requests;\n    if (!requests) {\n      this.getRequests();\n    }\n  }\n\n  async getCalendar() {\n    try {\n      let data = await Api.guideCalendar();\n      this.setState({\n        calendar: data,\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  getRequests() {\n    let requests = this.props.user.requests;\n    if (!requests) return;\n    this.setState({\n      requests: true,\n      loaded: true,\n    });\n\n    Object.keys(requests).map((key) => {\n      let request = requests[key];\n      if (request.type === \"movie\") {\n        Api.movie(key);\n      } else {\n        Api.series(key);\n      }\n    });\n  }\n\n  isToday(someDate) {\n    someDate = someDate.setHours(0, 0, 0, 0);\n    const today = new Date().setHours(0, 0, 0, 0);\n    return someDate === today;\n  }\n\n  render() {\n    const localizer = momentLocalizer(moment);\n    let calendarData = false;\n    if (this.state.calendar) {\n      calendarData = [];\n      this.state.calendar.map((item) => {\n        if (item.series) {\n          let time = new Date(item.airDateUtc);\n          calendarData.push({\n            title: `${item.series.title} - s${item.seasonNumber.toLocaleString(\"en-US\", {\n              minimumIntegerDigits: 2,\n              useGrouping: false,\n            })}e${item.episodeNumber.toLocaleString(\"en-US\", {\n              minimumIntegerDigits: 2,\n              useGrouping: false,\n            })}`,\n            allDay: false,\n            start: time,\n            end: time,\n            resource: item,\n          });\n        } else {\n          let time = new Date(item.inCinemas);\n          calendarData.push({\n            title: item.title,\n            allDay: true,\n            start: time,\n            end: time,\n            resource: item,\n          });\n        }\n      });\n    }\n    if (!this.state.loaded) {\n      return (\n        <div className=\"requests-page\">\n          <h1 className=\"main-title\">Requests</h1>\n          <div className=\"request-section\">\n            <p className=\"sub-title\">Loading...</p>\n          </div>\n        </div>\n      );\n    }\n    let requests = this.props.user.requests;\n    let pending = Object.keys(requests).map((key) => {\n      let request = this.props.api.movie_lookup[key];\n      if (requests[key].type === \"tv\") {\n        request = this.props.api.series_lookup[key];\n      }\n      if (!request) return null;\n      return <RequestCard key={key} request={request} />;\n    });\n    requests = this.props.user.requests;\n    let yourRequests = Object.keys(requests).map((key) => {\n      let request = this.props.api.movie_lookup[key];\n      if (requests[key].type === \"tv\") {\n        request = this.props.api.series_lookup[key];\n      }\n      let user = this.props.user.current.id;\n\n      if (!request || !requests[key].users.includes(user)) return null;\n      return <RequestCard key={key + \"_your\"} request={request} />;\n    });\n\n    const MonthEvent = ({ event }) => {\n      return (\n        <div className=\"calendar--event--wrap\">\n          <div\n            className={`calendar--event ${event.resource.hasFile ? \"recorded\" : \"\"} ${this.isToday(new Date(event.resource.airDateUtc)) ? \"airsToday\" : \"\"} ${\n              new Date(event.resource.airDateUtc) < new Date() ? \"hasAired\" : \"\"\n            }`}\n          >\n            <div className=\"calendar--event--icon\">{event.resource.series ? <TvIcon /> : <MovieIcon />}</div>\n            <p>{event.title}</p>\n          </div>\n        </div>\n      );\n    };\n\n    return (\n      <div className=\"requests-page\">\n        <h1 className=\"main-title mb--1\">Requests</h1>\n        {/* <div className=\"request-section\">\n          <section>\n            <h3 className=\"sub-title mb--1\">Pending Requests</h3>\n            <Carousel>{pending}</Carousel>\n          </section>\n        </div> */}\n        <div className=\"request-section\">\n          <section>\n            <h3 className=\"sub-title mb--1\">Your Requests</h3>\n            <Carousel>{yourRequests}</Carousel>\n          </section>\n        </div>\n        <section className=\"request-guide\">\n          <h3 className=\"sub-title mb--1\">Guide</h3>\n          <p>Upcoming TV airings and Movie releases.</p>\n          {calendarData ? (\n            <Calendar\n              localizer={localizer}\n              events={calendarData}\n              startAccessor=\"start\"\n              endAccessor=\"end\"\n              components={{\n                month: { event: MonthEvent },\n                week: { event: MonthEvent },\n              }}\n              views={[\"month\", \"agenda\"]}\n            />\n          ) : null}\n        </section>\n      </div>\n    );\n  }\n}\n\nRequests = withRouter(Requests);\n\nfunction RequestsContainer(props) {\n  return <Requests api={props.api} user={props.user} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    api: state.api,\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(RequestsContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/index.js",["261"],"import { plexAuth } from './actions';\n\nexport default {\n\tplexAuth,\n};\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/index.js",["262"],"import {\n  login,\n  // loginAdmin,\n  logout,\n  request,\n  getRequests,\n  review,\n  getReviews,\n  addIssue,\n} from \"./actions\";\n\nexport default {\n  login,\n  // loginAdmin,\n  logout,\n  request,\n  getRequests,\n  review,\n  getReviews,\n  addIssue,\n};\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/index.js",["263"],"import { getPopular, movie, series, search, clearSearch, person, top, history, get_plex_media, checkConfig, discover, networkDetails, companyDetails, guideCalendar } from \"./actions\";\n\nexport default {\n  getPopular,\n  movie,\n  series,\n  search,\n  clearSearch,\n  person,\n  top,\n  history,\n  get_plex_media,\n  checkConfig,\n  discover,\n  networkDetails,\n  companyDetails,\n  guideCalendar,\n};\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/actionTypes.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Review.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieShowTop.js",["264","265"],"import React from \"react\";\nimport { ReactComponent as RequestIcon } from \"../assets/svg/request.svg\";\nimport { ReactComponent as ReportIcon } from \"../assets/svg/report.svg\";\nimport { ReactComponent as CheckIcon } from \"../assets/svg/check.svg\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\n\nclass MovieShowTop extends React.Component {\n  render() {\n    let requestBtn = this.props.mediaData.on_server ? (\n      <a\n        href={`https://app.plex.tv/desktop#!/server/${this.props.mediaData.on_server.serverKey}/details?key=%2Flibrary%2Fmetadata%2F${this.props.mediaData.on_server.ratingKey}`}\n        target=\"_blank\"\n        className=\"btn btn__square good\"\n      >\n        <CheckIcon />\n        Watch now\n      </a>\n    ) : this.props.requested ? (\n      <button className=\"btn btn__square blue\" onClick={this.props.request}>\n        {`Requested by ${this.props.requested}\n\t\t\t\t${this.props.requested > 1 ? \"users\" : \"user\"}`}\n      </button>\n    ) : (\n      <button className=\"btn btn__square\" onClick={this.props.request}>\n        <RequestIcon />\n        Request\n      </button>\n    );\n\n    let reportBtn = (\n      <button className=\"btn btn__square\" onClick={this.props.openIssues}>\n        <ReportIcon />\n        Report an issue\n      </button>\n    );\n\n    let video = this.props.video;\n\n    return (\n      <div className={`media-top ${this.props.trailer ? \"show-trailer\" : \"\"}`}>\n        <div className=\"media-backdrop\" key={`${this.props.mediaData.title}__backdrop`}>\n          {video && this.props.trailer ? (\n            <div className=\"media-trailer\">\n              <iframe\n                frameBorder=\"0\"\n                height=\"100%\"\n                width=\"100%\"\n                src={`https://youtube.com/embed/${video.key}?autoplay=1&controls=0&showinfo=0&autohide=1&loop=1&modestbranding=1&playsinline=1&rel=0`}\n              ></iframe>\n            </div>\n          ) : null}\n          {this.props.mediaData.backdrop_path ? (\n            <LazyLoadImage\n              src={\"https://image.tmdb.org/t/p/w1280/\" + this.props.mediaData.backdrop_path}\n              alt={this.props.mediaData.title}\n              effect=\"blur\"\n              key={`${this.props.mediaData.title}__backdrop`}\n            />\n          ) : (\n            <div className=\"no-backdrop\"></div>\n          )}\n        </div>\n        <div className=\"media-poster\">\n          <div className=\"media-poster--inner\">\n            {this.props.mediaData.poster_path ? (\n              <LazyLoadImage src={\"https://image.tmdb.org/t/p/w500/\" + this.props.mediaData.poster_path} alt={this.props.mediaData.title} effect=\"blur\" key={`${this.props.mediaData.title}__poster`} />\n            ) : null}\n          </div>\n        </div>\n        <div className=\"media-details\">\n          <span></span>\n          <div className=\"media-details--top\">\n            {this.props.mediaData.logo ? (\n              <LazyLoadImage className=\"media-logo\" src={this.props.mediaData.logo} />\n            ) : (\n              <h1 className=\"single-title\">{this.props.mediaData.title ? this.props.mediaData.title : this.props.mediaData.name}</h1>\n            )}\n          </div>\n          <div className=\"media--actions\">\n            {requestBtn}\n            {reportBtn}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieShowTop;\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieShowOverview.js",["266","267","268","269","270","271","272","273","274","275"],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieCard.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/History.js",["276"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Api from \"../data/Api\";\n// import User from '../data/User'\nimport MovieCard from \"./MovieCard\";\nimport Carousel from \"./Carousel\";\nimport TvCard from \"./TvCard\";\nimport CarouselLoading from \"./CarouselLoading\";\n\nclass History extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      libraries: this.props.user.library_index,\n      credentials: false,\n      historyData: false,\n      user: false,\n      text: \"Loading\",\n    };\n\n    this.getHistory = this.getHistory.bind(this);\n    this.init = this.init.bind(this);\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  // componentDidUpdate() {\n  // \tthis.init();\n  // }\n\n  init() {\n    if (!this.state.historyData) {\n      this.getHistory();\n    }\n  }\n\n  getHistory() {\n    if (this.props.user.current.custom && !this.props.user.current.altId) {\n      this.setState({\n        text: \"No history from the last 2 weeks.\",\n      });\n      return;\n    }\n    this.setState({\n      historyData: [],\n    });\n    Api.history(this.props.user.current.altId ? this.props.user.current.altId : this.props.user.current.id, this.props.type)\n      .then((res) => {\n        if (Object.keys(res).length === 0) {\n          this.setState({\n            text: \"No history from the last 2 weeks.\",\n          });\n          return;\n        } else {\n          let historyData = res;\n          this.setState({\n            historyData: historyData,\n          });\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          text: \"No history from the last 2 weeks.\",\n        });\n      });\n  }\n\n  render() {\n    // let libraries = this.props.user.library_index;\n    if (this.props.type === \"movie\") {\n      let historyData = (\n        <>\n          <section>\n            <h3 className=\"sub-title mb--1\">Recently Viewed by You</h3>\n            <p>Be sure to review movies you watched to help other users decide what to watch!</p>\n            {Object.keys(this.state.historyData).length > 0 ? (\n              <Carousel>\n                {Object.keys(this.state.historyData).map((t) => {\n                  // console.log(this.state.historyData[t]);\n                  if (!this.state.historyData[t].id || this.state.historyData[t].id === \"false\") {\n                    return null;\n                  }\n                  return (\n                    <MovieCard\n                      key={this.state.historyData[t].id}\n                      movie={{\n                        id: this.state.historyData[t].id,\n                      }}\n                    />\n                  );\n                })}\n              </Carousel>\n            ) : this.state.text === \"Loading\" ? (\n              <CarouselLoading />\n            ) : (\n              <p>{this.state.text}</p>\n            )}\n          </section>\n        </>\n      );\n      return historyData;\n    } else {\n      let showHistory = (\n        <>\n          <section>\n            <h3 className=\"sub-title mb--1\">Recently Viewed by You</h3>\n            <p>Be sure to review shows you watched to help other users decide what to watch!</p>\n            {Object.keys(this.state.historyData).length > 0 ? (\n              <Carousel>\n                {Object.keys(this.state.historyData).map((t) => {\n                  // console.log(this.state.historyData[t]);\n                  if (!this.state.historyData[t].id || this.state.historyData[t].id === \"false\") {\n                    return null;\n                  }\n                  return (\n                    <TvCard\n                      key={this.state.historyData[t].id}\n                      series={{\n                        id: this.state.historyData[t].id,\n                      }}\n                    />\n                  );\n                })}\n              </Carousel>\n            ) : this.state.text === \"Loading\" ? (\n              <CarouselLoading />\n            ) : (\n              <p>{this.state.text}</p>\n            )}\n          </section>\n        </>\n      );\n      return showHistory;\n    }\n  }\n}\n\nHistory = withRouter(History);\n\nfunction HistoryContainer(props) {\n  return <History user={props.user} type={props.type} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(HistoryContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/PersonCard.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/CarouselLoading.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Carousel.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/TvCard.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/CarouselLoadingPerson.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/MovieShowLoading.js",["277","278"],"import React from \"react\";\nimport CarouselLoading from \"../components/CarouselLoading\";\nimport CarouselLoadingPerson from \"../components/CarouselLoadingPerson\";\n\nclass MovieShowLoading extends React.Component {\n  render() {\n    return (\n      <div className=\"media-wrap\">\n        <div className=\"media-top\">\n          <div className=\"media-backdrop\">\n            <div className=\"no-backdrop\"></div>\n          </div>\n          <div className=\"media-poster\">\n            <div className=\"media-poster--inner\"></div>\n          </div>\n          <div className=\"media-details\">\n            <span></span>\n            <div className=\"media-details--top\">\n              <div className=\"media-logo placeholder\"></div>\n            </div>\n            <div className=\"media--actions\">\n              <div className=\"btn btn__square placeholder\"></div>\n              <div className=\"btn btn__square placeholder\"></div>\n            </div>\n          </div>\n        </div>\n        <div className=\"media-content\">\n          <section>\n            <div className=\"quick-view\">\n              <div className=\"side-content\">\n                <div className=\"media-action\">\n                  <div className=\"btn btn__square placeholder\"></div>\n                  <div className=\"btn btn__square placeholder\"></div>\n                </div>\n              </div>\n              <div className=\"detail--wrap\">\n                <div className=\"detail--content\">\n                  <div className=\"detail--bar\">\n                    <div className=\"details text-placeholder\"></div>\n                  </div>\n                  <div className=\"genre--wrap\">\n                    <div className=\"genre--item genre-placeholder\"></div>\n                    <div className=\"genre--item genre-placeholder\"></div>\n                    <div className=\"genre--item genre-placeholder\"></div>\n                    <div className=\"genre--item genre-placeholder\"></div>\n                  </div>\n                  <div className=\"media--actions__mob mob-btn-placeholder\">\n                    <div className=\"btn btn__square placeholder\"></div>\n                    <div className=\"btn btn__square placeholder\"></div>\n                    <div className=\"btn btn__square placeholder\"></div>\n                  </div>\n                  <div className=\"media-crew\">\n                    <div className=\"media-crew--item text-placeholder\"></div>\n                    <div className=\"media-crew--item text-placeholder\"></div>\n                  </div>\n                  <div className=\"sub-title mb--1 text-placeholder\"></div>\n                  <div className=\"overview text-placeholder\"></div>\n                </div>\n              </div>\n            </div>\n          </section>\n          <section>\n            <h3 className=\"sub-title mb--1 text-placeholder\"></h3>\n            <CarouselLoadingPerson />\n          </section>\n          <section>\n            <h3 className=\"sub-title mb--1 text-placeholder\"></h3>\n            <CarouselLoading />\n          </section>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieShowLoading;\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/ReviewsLists.js",["279"],"import React from \"react\";\nimport { ReactComponent as StarIcon } from \"../assets/svg/star.svg\";\nimport User from \"../data/User\";\nimport dateFormat from \"dateformat\";\nimport { getAuth } from \"../data/auth\";\n\nclass ReviewsList extends React.Component {\n  render() {\n    console.log(this.props);\n    if (!this.props.reviews) {\n      return null;\n    }\n    return (\n      <div className=\"reviews-list--wrap\">\n        {this.props.reviews\n          ? this.props.reviews.length > 0\n            ? this.props.reviews.map((review) => {\n                let stars = [];\n                for (let i = 0; i < 10; i++) {\n                  stars.push(\n                    <div key={`${review._id}__${i}`} className={`stars-1 star ${review.score > i ? \"active\" : \"\"}`}>\n                      <StarIcon />\n                    </div>\n                  );\n                }\n                let thumb = `${getAuth().api}/user/thumb/${review.user}`;\n                return (\n                  <div className=\"reviews-list--item\" key={review._id}>\n                    <div className=\"reviews-list--thumb\">\n                      <div\n                        className=\"thumb\"\n                        style={{\n                          backgroundImage: \"url(\" + thumb + \")\",\n                        }}\n                      ></div>\n                    </div>\n                    <div className=\"reviews-list--content\">\n                      <p className=\"small\">{dateFormat(review.date, \"dddd, mmmm dS, yyyy, h:MMtt\")}</p>\n                      <div className=\"stars-wrap\">{stars}</div>\n                      <p className=\"small capped-width__wide content-cap\">{review.comment}</p>\n                    </div>\n                  </div>\n                );\n              })\n            : null\n          : null}\n        {this.props.external\n          ? this.props.external.map((review) => {\n              let stars = [];\n              if (review.author_details.rating !== null) {\n                for (let i = 0; i < 10; i++) {\n                  stars.push(\n                    <div key={`${review.id}__${i}`} className={`stars-1 star ${review.author_details.rating > i ? \"active\" : \"\"}`}>\n                      <StarIcon />\n                    </div>\n                  );\n                }\n              }\n              let thumb = review.author_details.avatar_path\n                ? review.author_details.avatar_path.includes(\"https:\")\n                  ? review.author_details.avatar_path.substring(1)\n                  : `https://www.themoviedb.org/t/p/w128_and_h128_face${review.author_details.avatar_path}`\n                : \"\";\n\n              let text = review.content;\n              text = text.replace(/\\*\\*\\*(.*?)\\*\\*\\*/g, '<span style=\"display: block; margin: 0\"><b>$1</b></span>');\n              text = text.replace(/\\*\\*(.*?)\\*\\*/g, \"<b>$1</b>\");\n              text = text.replace(/__(.*?)__/g, \"<u>$1</u>\");\n              text = text.replace(/_/g, \" \");\n              text = text.replace(/~~(.*?)~~/g, \"<i>$1</i>\");\n              text = text.replace(/--(.*?)--/g, \" ($1) \");\n              text = text.replace(/<<(.*?)>>/g, \"<a href='$1'>Link</a>\");\n              return (\n                <div className=\"reviews-list--item\" key={review.id}>\n                  <div className=\"reviews-list--thumb\">\n                    <div\n                      className=\"thumb\"\n                      style={{\n                        backgroundImage: \"url(\" + thumb + \")\",\n                      }}\n                    ></div>\n                  </div>\n                  <div className=\"reviews-list--content\">\n                    <p className=\"small\">{dateFormat(review.updated_at, \"dddd, mmmm dS, yyyy, h:MMtt\")}</p>\n                    <div className=\"stars-wrap\">{stars}</div>\n                    <p className=\"small capped-width__wide content-cap\" dangerouslySetInnerHTML={{ __html: text }}></p>\n                  </div>\n                </div>\n              );\n            })\n          : null}\n        {this.props.external ? this.props.external.length === 0 && this.props.reviews.length === 0 ? <p>No reviews</p> : null : null}\n      </div>\n    );\n  }\n}\n\nexport default ReviewsList;\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/RequestCard.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/reducer.js",["280"],"import * as types from \"../actionTypes\";\n\nexport default function (\n  state = {\n    current: false,\n    logged_in: false,\n    credentials: false,\n    library_index: false,\n    requests: false,\n    email: false,\n  },\n  action\n) {\n  switch (action.type) {\n    case types.LOGIN:\n      return {\n        ...state,\n        current: action.data.user,\n        logged_in: true,\n      };\n\n    case types.LOGOUT:\n      return {\n        ...state,\n        current: false,\n        logged_in: false,\n        credentials: false,\n      };\n\n    case types.CREDENTIALS:\n      return {\n        ...state,\n        credentials: action.credentials,\n      };\n\n    case types.CREDENTIALS_EMAIL:\n      return {\n        ...state,\n        email: action.credentials,\n      };\n\n    case types.LIBRARIES_INDEX:\n      return {\n        ...state,\n        library_index: action.libraries,\n      };\n\n    case types.LOGIN_ADMIN:\n      return {\n        ...state,\n        logged_in: true,\n        credentials: {\n          plexToken: action.credentials.token,\n        },\n        current: action.credentials.username,\n      };\n\n    case types.GET_REQUESTS:\n      return {\n        ...state,\n        requests: action.requests,\n      };\n\n    case types.GET_REVIEWS:\n      return {\n        ...state,\n        reviews: {\n          ...state.reviews,\n          [action.id]: action.reviews,\n        },\n      };\n\n    case types.UPDATE_QUOTA:\n      return {\n        ...state,\n        current: {\n          ...state.current,\n          quotaCount: action.quota,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/reducer.js",["281"],"import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\ttoken: false,\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.PLEX_TOKEN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoken: action.token,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/reducer.js",["282"],"import * as types from '../actionTypes';\n\nexport default function (\n\tstate = {\n\t\tuser_roles: {\n\t\t\tpermissions: [],\n\t\t\trules: [],\n\t\t\tseen_clients: [],\n\t\t\tblocked_clients: [],\n\t\t\tid: false,\n\t\t\tusername: false,\n\t\t\towner: false,\n\t\t\t__v: 0,\n\t\t},\n\t\tlogged_in: false,\n\t\tservers: false,\n\t\tconfig: 'pending',\n\t\tactiveServer: false,\n\t\tpopular: {},\n\t\tmovie_lookup: {},\n\t\tseries_lookup: {},\n\t\tseason_lookup: {},\n\t\tperson_lookup: {},\n\t\tsearch_results: {\n\t\t\tmovies: [],\n\t\t\tseries: [],\n\t\t\tpeople: [],\n\t\t},\n\t\tactor_movie: {},\n\t\tactor_series: {},\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase types.MB_LOGIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrent_user: {\n\t\t\t\t\tusername: action.username,\n\t\t\t\t\temail: action.email,\n\t\t\t\t\tthumb: action.thumb,\n\t\t\t\t},\n\t\t\t\tservers: action.servers,\n\t\t\t\tlogged_in: true,\n\t\t\t};\n\n\t\tcase types.MB_USER_ROLES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuser_roles: action.user,\n\t\t\t};\n\n\t\tcase types.MB_CONFIG_SETUP_START:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: false,\n\t\t\t};\n\n\t\tcase types.MB_CONFIG_LOADED:\n\t\tcase types.MB_CONFIG_SETUP_END:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: action.config,\n\t\t\t};\n\n\t\tcase types.MB_ACTIVE_SERVER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveServer: action.server,\n\t\t\t};\n\n\t\tcase types.POPULAR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpopular: action.popular,\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SEARCH:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsearch_results: {\n\t\t\t\t\tmovies: action.movies,\n\t\t\t\t\tseries: action.series,\n\t\t\t\t\tpeople: action.people,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase types.MOVIE_LOOKUP:\n\t\t\tlet creditCache = {};\n\t\t\tif (action.movie) {\n\t\t\t\tif (action.movie.credits) {\n\t\t\t\t\tObject.keys(action.movie.credits).forEach((key) => {\n\t\t\t\t\t\tObject.keys(action.movie.credits[key]).forEach(\n\t\t\t\t\t\t\t(skey) => {\n\t\t\t\t\t\t\t\tcreditCache[\n\t\t\t\t\t\t\t\t\taction.movie.credits[key][skey].id\n\t\t\t\t\t\t\t\t] = action.movie.credits[key][skey];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmovie_lookup: {\n\t\t\t\t\t...state.movie_lookup,\n\t\t\t\t\t[action.id]: action.movie,\n\t\t\t\t},\n\t\t\t\tactor_cache: {\n\t\t\t\t\tcreditCache,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.PERSON_LOOKUP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tperson_lookup: {\n\t\t\t\t\t...state.movie_lookup,\n\t\t\t\t\t[action.id]: action.person,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SERIES_LOOKUP:\n\t\t\tlet creditCacheS = {};\n\t\t\tif (action.series)\n\t\t\t\tif (action.series.credits) {\n\t\t\t\t\tObject.keys(action.series.credits).forEach((key) => {\n\t\t\t\t\t\tObject.keys(action.series.credits[key]).forEach(\n\t\t\t\t\t\t\t(skey) => {\n\t\t\t\t\t\t\t\tcreditCacheS[\n\t\t\t\t\t\t\t\t\taction.series.credits[key][skey].id\n\t\t\t\t\t\t\t\t] = action.series.credits[key][skey];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseries_lookup: {\n\t\t\t\t\t...state.series_lookup,\n\t\t\t\t\t[action.id]: action.series,\n\t\t\t\t},\n\t\t\t\tactor_cache: {\n\t\t\t\t\tcreditCacheS,\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.SEASON_LOOKUP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseason_lookup: {\n\t\t\t\t\t...state.season_lookup,\n\t\t\t\t\t[`${action.series}_s${action.season}`]: action.data,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase types.STORE_ACTOR_MOVIE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactor_movie: {\n\t\t\t\t\t...state.actor_movie,\n\t\t\t\t\t[action.id]: {\n\t\t\t\t\t\tcast: action.cast,\n\t\t\t\t\t\tcrew: action.crew,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tcase types.STORE_ACTOR_SERIES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactor_series: {\n\t\t\t\t\t...state.actor_series,\n\t\t\t\t\t[action.id]: {\n\t\t\t\t\t\tcast: action.cast,\n\t\t\t\t\t\tcrew: action.crew,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tupdated: true,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/components/Popular.js",["283","284","285"],"import React from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Plex from \"../data/Plex\";\nimport Api from \"../data/Api\";\n// import User from '../data/User'\nimport MovieCard from \"./MovieCard\";\nimport TvCard from \"./TvCard\";\nimport Carousel from \"./Carousel\";\nimport CarouselLoading from \"./CarouselLoading\";\n\nclass Popular extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      libraries: this.props.user.library_index,\n      credentials: false,\n      topData: false,\n    };\n\n    this.getTop = this.getTop.bind(this);\n    this.init = this.init.bind(this);\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  // componentDidUpdate() {\n  // \tthis.init();\n  // }\n\n  init() {\n    if (!this.state.topData) {\n      this.getTop(\"movies\");\n    }\n  }\n\n  getTop() {\n    Api.top(this.props.type)\n      .then((res) => {\n        this.setState({\n          topData: res,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    if (this.props.type === \"movie\") {\n      let topData = (\n        <>\n          <section>\n            <h3 className=\"sub-title mb--1\">Popular on Plex</h3>\n            <p>What's popular on Plex right now. The numbers indicate number of plays in the past month.</p>\n            {this.state.topData ? (\n              <Carousel>\n                {Object.keys(this.state.topData).map((t) => {\n                  if (!this.state.topData[t].item.tmdb_id || this.state.topData[t].item.tmdb_id === \"false\") {\n                    return null;\n                  }\n                  return (\n                    <MovieCard\n                      key={t}\n                      key={this.state.topData[t].item.tmdb_id}\n                      movie={{\n                        id: this.state.topData[t].item.tmdb_id,\n                      }}\n                      popular_count={this.state.topData[t].globalViewCount}\n                    />\n                  );\n                })}\n              </Carousel>\n            ) : (\n              <CarouselLoading />\n            )}\n          </section>\n        </>\n      );\n      return topData;\n    } else {\n      let topShows = (\n        <>\n          <section>\n            <h3 className=\"sub-title mb--1\">Popular on Plex</h3>\n            <p>What's popular on Plex right now. The numbers indicate number of plays in the past month.</p>\n            {this.state.topData ? (\n              <Carousel>\n                {Object.keys(this.state.topData).map((t) => {\n                  if (!this.state.topData[t].item.tmdb_id || this.state.topData[t].item.tmdb_id === \"false\") {\n                    return null;\n                  }\n                  return (\n                    <TvCard\n                      key={this.state.topData[t].id}\n                      series={{\n                        id: this.state.topData[t].item.tmdb_id,\n                      }}\n                      popular_count={this.state.topData[t].globalViewCount}\n                    />\n                  );\n                })}\n              </Carousel>\n            ) : (\n              <CarouselLoading />\n            )}\n          </section>\n        </>\n      );\n      return topShows;\n    }\n  }\n}\n\nPopular = withRouter(Popular);\n\nfunction PopularContainer(props) {\n  return <Popular user={props.user} type={props.type} />;\n}\n\nconst mapStateToProps = function (state) {\n  return {\n    user: state.user,\n  };\n};\n\nexport default connect(mapStateToProps)(PopularContainer);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/actions.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/actions.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/actions.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/User/api.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Api/api.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/data/Plex/api.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Genre.js",[],"/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Networks.js",["286","287"],"import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport TvCard from \"../components/TvCard\";\nimport Api from \"../data/Api\";\n\nclass Networks extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      results: false,\n      scrollWatch: false,\n      page: false,\n      paginating: false,\n      totalPages: false,\n      details: false,\n    };\n\n    this.getResults = this.getResults.bind(this);\n    this.trackScrolling = this.trackScrolling.bind(this);\n    this.getDetails = this.getDetails.bind(this);\n  }\n\n  componentDidMount() {\n    this.getResults();\n    this.getDetails();\n  }\n\n  componentDidUpdate() {\n    if (this.state.results && !this.state.scrollWatch) {\n      this.setState({\n        scrollWatch: true,\n      });\n      document.getElementsByClassName(\"page-wrap\")[0].addEventListener(\"scroll\", this.trackScrolling);\n    }\n  }\n\n  componentWillUnmount() {\n    document.getElementsByClassName(\"page-wrap\")[0].removeEventListener(\"scroll\", this.trackScrolling);\n  }\n\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n\n  trackScrolling = () => {\n    const wrappedElement = document.getElementsByClassName(\"network--grid\")[0];\n    if (this.isBottom(wrappedElement)) {\n      if (this.state.paginating) return;\n      let page = this.state.page;\n      this.getResults(page + 1);\n    }\n  };\n\n  async getDetails() {\n    let details = await Api.networkDetails(this.props.match.params.id);\n    this.setState({\n      details: details,\n    });\n  }\n\n  async getResults(page = 1) {\n    if (this.state.totalPages && page >= this.state.totalPages) {\n      return;\n    }\n    this.setState({\n      paginating: true,\n    });\n    let id = this.props.match.params.id;\n    let type = \"show\";\n    let data = await Api.discover(type, page, {\n      with_networks: id,\n    });\n    if (data.results) {\n      this.setState({\n        results: this.state.results ? [...this.state.results, ...data.results] : data.results,\n        page: page,\n        paginating: false,\n        totalPages: data.total_pages,\n      });\n    }\n  }\n\n  render() {\n    let id = this.props.match.params.id;\n    return (\n      <>\n        <section>\n          <h1 className=\"main-title mb--1 network--title\">\n            {this.state.details ? <img title={this.state.details.name} src={`https://image.tmdb.org/t/p/w500${this.state.details.logo_path}`} /> : null}\n          </h1>\n        </section>\n        <section>\n          <div className=\"network--grid\">\n            {this.state.results ? (\n              this.state.results.map((result) => {\n                return (\n                  <div className=\"network--grid--card\" key={`gen__${result.id}`}>\n                    <TvCard series={result} msg={this.props.msg} view={true} />\n                  </div>\n                );\n              })\n            ) : this.state.results === \"none\" ? (\n              <p>No results</p>\n            ) : (\n              <p>Loading...</p>\n            )}\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Networks);\n","/Users/ashleydyson/Documents/Petio/petio/frontend/src/pages/Company.js",["288","289"],"import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport MovieCard from \"../components/MovieCard\";\nimport Api from \"../data/Api\";\n\nclass Company extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      results: false,\n      scrollWatch: false,\n      page: false,\n      paginating: false,\n      totalPages: false,\n      details: false,\n    };\n\n    this.getResults = this.getResults.bind(this);\n    this.trackScrolling = this.trackScrolling.bind(this);\n    this.getDetails = this.getDetails.bind(this);\n  }\n\n  componentDidMount() {\n    this.getResults();\n    this.getDetails();\n  }\n\n  componentDidUpdate() {\n    if (this.state.results && !this.state.scrollWatch) {\n      this.setState({\n        scrollWatch: true,\n      });\n      document.getElementsByClassName(\"page-wrap\")[0].addEventListener(\"scroll\", this.trackScrolling);\n    }\n  }\n\n  componentWillUnmount() {\n    document.getElementsByClassName(\"page-wrap\")[0].removeEventListener(\"scroll\", this.trackScrolling);\n  }\n\n  isBottom(el) {\n    return el.getBoundingClientRect().bottom <= window.innerHeight;\n  }\n\n  trackScrolling = () => {\n    const wrappedElement = document.getElementsByClassName(\"company--grid\")[0];\n    if (this.isBottom(wrappedElement)) {\n      if (this.state.paginating) return;\n      let page = this.state.page;\n      this.getResults(page + 1);\n    }\n  };\n\n  async getDetails() {\n    let details = await Api.companyDetails(this.props.match.params.id);\n    this.setState({\n      details: details,\n    });\n  }\n\n  async getResults(page = 1) {\n    if (this.state.totalPages && page >= this.state.totalPages) {\n      return;\n    }\n    this.setState({\n      paginating: true,\n    });\n    let id = this.props.match.params.id;\n    let type = \"movie\";\n    let data = await Api.discover(type, page, {\n      with_companies: id,\n    });\n    if (data.results) {\n      this.setState({\n        results: this.state.results ? [...this.state.results, ...data.results] : data.results,\n        page: page,\n        paginating: false,\n        totalPages: data.total_pages,\n      });\n    }\n  }\n\n  render() {\n    let id = this.props.match.params.id;\n    return (\n      <>\n        <section>\n          <h1 className=\"main-title mb--1 company--title\">\n            {this.state.details ? <img title={this.state.details.name} src={`https://image.tmdb.org/t/p/w500${this.state.details.logo_path}`} /> : null}\n          </h1>\n        </section>\n        <section>\n          <div className=\"company--grid\">\n            {this.state.results ? (\n              this.state.results.map((result) => {\n                return (\n                  <div className=\"company--grid--card\" key={`gen__${result.id}`}>\n                    <MovieCard msg={this.props.msg} movie={result} view={true} />\n                  </div>\n                );\n              })\n            ) : this.state.results === \"none\" ? (\n              <p>No results</p>\n            ) : (\n              <p>Loading...</p>\n            )}\n          </div>\n        </section>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Company);\n",{"ruleId":"290","replacedBy":"291"},{"ruleId":"292","replacedBy":"293"},{"ruleId":"294","severity":1,"message":"295","line":2,"column":37,"nodeType":"296","messageId":"297","endLine":2,"endColumn":41},{"ruleId":"294","severity":1,"message":"298","line":2,"column":43,"nodeType":"296","messageId":"297","endLine":2,"endColumn":53},{"ruleId":"294","severity":1,"message":"299","line":2,"column":55,"nodeType":"296","messageId":"297","endLine":2,"endColumn":65},{"ruleId":"294","severity":1,"message":"300","line":4,"column":8,"nodeType":"296","messageId":"297","endLine":4,"endColumn":12},{"ruleId":"294","severity":1,"message":"301","line":211,"column":9,"nodeType":"296","messageId":"297","endLine":211,"endColumn":13},{"ruleId":"302","severity":1,"message":"303","line":231,"column":46,"nodeType":"304","endLine":231,"endColumn":61},{"ruleId":"302","severity":1,"message":"303","line":236,"column":55,"nodeType":"304","endLine":236,"endColumn":70},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"305","line":2,"column":28,"nodeType":"296","messageId":"297","endLine":2,"endColumn":34},{"ruleId":"294","severity":1,"message":"306","line":7,"column":8,"nodeType":"296","messageId":"297","endLine":7,"endColumn":25},{"ruleId":"294","severity":1,"message":"307","line":33,"column":9,"nodeType":"296","messageId":"297","endLine":33,"endColumn":15},{"ruleId":"308","severity":1,"message":"309","line":190,"column":25,"nodeType":"310","endLine":190,"endColumn":140},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"311","line":4,"column":8,"nodeType":"296","messageId":"297","endLine":4,"endColumn":12},{"ruleId":"294","severity":1,"message":"312","line":6,"column":28,"nodeType":"296","messageId":"297","endLine":6,"endColumn":37},{"ruleId":"294","severity":1,"message":"313","line":7,"column":28,"nodeType":"296","messageId":"297","endLine":7,"endColumn":38},{"ruleId":"294","severity":1,"message":"314","line":8,"column":28,"nodeType":"296","messageId":"297","endLine":8,"endColumn":38},{"ruleId":"315","severity":1,"message":"316","line":65,"column":8,"nodeType":"310","endLine":65,"endColumn":60},{"ruleId":"317","severity":1,"message":"318","line":85,"column":8,"nodeType":"310","endLine":96,"endColumn":9},{"ruleId":"302","severity":1,"message":"303","line":87,"column":9,"nodeType":"304","endLine":87,"endColumn":24},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"319","line":8,"column":28,"nodeType":"296","messageId":"297","endLine":8,"endColumn":39},{"ruleId":"294","severity":1,"message":"320","line":9,"column":28,"nodeType":"296","messageId":"297","endLine":9,"endColumn":38},{"ruleId":"294","severity":1,"message":"321","line":10,"column":28,"nodeType":"296","messageId":"297","endLine":10,"endColumn":37},{"ruleId":"294","severity":1,"message":"322","line":11,"column":28,"nodeType":"296","messageId":"297","endLine":11,"endColumn":37},{"ruleId":"294","severity":1,"message":"323","line":13,"column":28,"nodeType":"296","messageId":"297","endLine":13,"endColumn":39},{"ruleId":"294","severity":1,"message":"324","line":14,"column":28,"nodeType":"296","messageId":"297","endLine":14,"endColumn":44},{"ruleId":"294","severity":1,"message":"325","line":15,"column":10,"nodeType":"296","messageId":"297","endLine":15,"endColumn":23},{"ruleId":"326","severity":1,"message":"327","line":233,"column":75,"nodeType":"328","messageId":"329","endLine":233,"endColumn":77},{"ruleId":"294","severity":1,"message":"330","line":238,"column":9,"nodeType":"296","messageId":"297","endLine":238,"endColumn":18},{"ruleId":"331","severity":1,"message":"332","line":266,"column":84,"nodeType":"333","messageId":"334","endLine":266,"endColumn":86},{"ruleId":"294","severity":1,"message":"335","line":270,"column":11,"nodeType":"296","messageId":"297","endLine":270,"endColumn":21},{"ruleId":"294","severity":1,"message":"336","line":273,"column":11,"nodeType":"296","messageId":"297","endLine":273,"endColumn":24},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"337","severity":1,"message":"338","line":71,"column":35,"nodeType":"339","messageId":"340","endLine":71,"endColumn":46},{"ruleId":"337","severity":1,"message":"338","line":79,"column":41,"nodeType":"339","messageId":"340","endLine":79,"endColumn":52},{"ruleId":"308","severity":1,"message":"309","line":182,"column":19,"nodeType":"310","endLine":182,"endColumn":94},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"341","line":9,"column":8,"nodeType":"296","messageId":"297","endLine":9,"endColumn":17},{"ruleId":"331","severity":1,"message":"332","line":61,"column":37,"nodeType":"333","messageId":"334","endLine":61,"endColumn":39},{"ruleId":"331","severity":1,"message":"332","line":82,"column":38,"nodeType":"333","messageId":"334","endLine":82,"endColumn":40},{"ruleId":"294","severity":1,"message":"342","line":121,"column":9,"nodeType":"296","messageId":"297","endLine":121,"endColumn":16},{"ruleId":"343","severity":1,"message":"344","line":3,"column":1,"nodeType":"345","endLine":5,"endColumn":3},{"ruleId":"343","severity":1,"message":"344","line":12,"column":1,"nodeType":"345","endLine":21,"endColumn":3},{"ruleId":"343","severity":1,"message":"344","line":3,"column":1,"nodeType":"345","endLine":18,"endColumn":3},{"ruleId":"302","severity":1,"message":"303","line":12,"column":9,"nodeType":"304","endLine":12,"endColumn":24},{"ruleId":"315","severity":1,"message":"316","line":44,"column":15,"nodeType":"310","endLine":49,"endColumn":16},{"ruleId":"302","severity":1,"message":"303","line":151,"column":11,"nodeType":"304","endLine":151,"endColumn":26},{"ruleId":"302","severity":1,"message":"303","line":160,"column":11,"nodeType":"304","endLine":160,"endColumn":26},{"ruleId":"326","severity":1,"message":"327","line":194,"column":77,"nodeType":"328","messageId":"329","endLine":194,"endColumn":79},{"ruleId":"331","severity":1,"message":"332","line":199,"column":86,"nodeType":"333","messageId":"334","endLine":199,"endColumn":88},{"ruleId":"331","severity":1,"message":"332","line":207,"column":46,"nodeType":"333","messageId":"334","endLine":207,"endColumn":48},{"ruleId":"331","severity":1,"message":"346","line":306,"column":74,"nodeType":"333","messageId":"347","endLine":306,"endColumn":76},{"ruleId":"331","severity":1,"message":"332","line":327,"column":44,"nodeType":"348","messageId":"349","endLine":327,"endColumn":51},{"ruleId":"308","severity":1,"message":"309","line":331,"column":31,"nodeType":"310","endLine":331,"endColumn":93},{"ruleId":"331","severity":1,"message":"332","line":343,"column":49,"nodeType":"348","messageId":"349","endLine":343,"endColumn":56},{"ruleId":"308","severity":1,"message":"309","line":347,"column":31,"nodeType":"310","endLine":347,"endColumn":98},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"350","severity":1,"message":"351","line":63,"column":13,"nodeType":"310","endLine":63,"endColumn":62},{"ruleId":"350","severity":1,"message":"351","line":67,"column":13,"nodeType":"310","endLine":67,"endColumn":62},{"ruleId":"294","severity":1,"message":"311","line":3,"column":8,"nodeType":"296","messageId":"297","endLine":3,"endColumn":12},{"ruleId":"343","severity":1,"message":"352","line":3,"column":1,"nodeType":"345","endLine":85,"endColumn":2},{"ruleId":"343","severity":1,"message":"352","line":3,"column":1,"nodeType":"345","endLine":19,"endColumn":2},{"ruleId":"343","severity":1,"message":"352","line":3,"column":1,"nodeType":"345","endLine":192,"endColumn":2},{"ruleId":"294","severity":1,"message":"295","line":2,"column":22,"nodeType":"296","messageId":"297","endLine":2,"endColumn":26},{"ruleId":"294","severity":1,"message":"300","line":4,"column":8,"nodeType":"296","messageId":"297","endLine":4,"endColumn":12},{"ruleId":"353","severity":1,"message":"354","line":68,"column":23,"nodeType":"304","endLine":68,"endColumn":63},{"ruleId":"294","severity":1,"message":"355","line":85,"column":9,"nodeType":"296","messageId":"297","endLine":85,"endColumn":11},{"ruleId":"308","severity":1,"message":"309","line":90,"column":35,"nodeType":"310","endLine":90,"endColumn":145},{"ruleId":"294","severity":1,"message":"355","line":85,"column":9,"nodeType":"296","messageId":"297","endLine":85,"endColumn":11},{"ruleId":"308","severity":1,"message":"309","line":90,"column":35,"nodeType":"310","endLine":90,"endColumn":145},"no-native-reassign",["356"],"no-negated-in-lhs",["357"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'withRouter' is defined but never used.","'useHistory' is defined but never used.","'Plex' is defined but never used.","'user' is assigned a value but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","'Router' is defined but never used.","'MovieShowOverview' is defined but never used.","'season' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'User' is defined but never used.","'ResIconHd' is defined but never used.","'ResIconFHd' is defined but never used.","'ResIconUHd' is defined but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","jsx-a11y/anchor-has-content","Anchors must have content and the content must be accessible by a screen reader.","'RequestIcon' is defined but never used.","'ReportIcon' is defined but never used.","'WatchIcon' is defined but never used.","'CheckIcon' is defined but never used.","'TrailerIcon' is defined but never used.","'PersonCircleIcon' is defined but never used.","'LazyLoadImage' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'reviewBtn' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'userRating' is assigned a value but never used.","'userRatingVal' is assigned a value but never used.","no-array-constructor","The array literal notation [] is preferable.","NewExpression","preferLiteral","'MovieCard' is defined but never used.","'pending' is assigned a value but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","ReturnStatement","expectedReturnValue","jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.","Unexpected default export of anonymous function","react/jsx-no-duplicate-props","No duplicate props allowed","'id' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]